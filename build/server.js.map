{"version":3,"sources":["webpack:///webpack/bootstrap 7cdd4dc6b8fe55803b59","webpack:///external \"moduler\"","webpack:///./server/modules/index.js","webpack:///external \"diet\"","webpack:///external \"diet-cross-origin\"","webpack:///external \"sequelize\"","webpack:///./server/app.js","webpack:///./server/modules/courses/course.controller.js","webpack:///./server/modules/courses/course.model.js","webpack:///./server/modules/courses/course.relations.js","webpack:///./server/modules/courses/course.routes.js","webpack:///./server/modules/courses/module.js","webpack:///./server/modules/lessions/lession.controller.js","webpack:///./server/modules/lessions/lession.model.js","webpack:///./server/modules/lessions/lession.relations.js","webpack:///./server/modules/lessions/lession.routes.js","webpack:///./server/modules/lessions/module.js","webpack:///./server/modules/roles-permissions/module.js","webpack:///./server/modules/roles-permissions/permission.controller.js","webpack:///./server/modules/roles-permissions/permission.model.js","webpack:///./server/modules/roles-permissions/permission.relations.js","webpack:///./server/modules/roles-permissions/permission.routes.js","webpack:///./server/modules/roles-permissions/permission.seed.js","webpack:///./server/modules/roles-permissions/role.controller.js","webpack:///./server/modules/roles-permissions/role.model.js","webpack:///./server/modules/roles-permissions/role.relations.js","webpack:///./server/modules/roles-permissions/role.routes.js","webpack:///./server/modules/roles-permissions/role.seed.js","webpack:///./server/modules/roles-permissions/roles-permissions.model.js","webpack:///./server/modules/users/module.js","webpack:///./server/modules/users/user.controller.js","webpack:///./server/modules/users/user.model.js","webpack:///./server/modules/users/user.relations.js","webpack:///./server/modules/users/user.routes.js","webpack:///./server/modules/users/user.seed.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,oC;;;;;;;;;;;ACAA;AACA;AACA;;;;;;;ACFA,iC;;;;;;ACAA,8C;;;;;;ACAA,sC;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC;AAChC,gBAAgB,mBAAmB;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,UAAU;;AAEV;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;;;AAGV;;;;;;;;;AClFA;AACA,OAAO,SAAS;AAChB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,mBAAmB,YAAY;AAC/B,oBAAoB;AACpB;AACA;AACA;AACA;;;;;;;;AC1BA,mEAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;AC7BA,mEAAyB,SAAS,yBAAyB;AAC3D,0CAA0C,aAAa;AACvD,iDAAiD,gBAAgB;AACjE;AACA;;;;;;;;ACJA,oEAA0B,yBAAyB,cAAc;AACjE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;;;;;;;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,UAAU,uEAAO;AACjB,aAAa,0EAAuB;AACpC,eAAe,gFAAW;AAC1B,UAAU,8EAAa;AACvB,CAAC;;;;;;;;;ACbD,sBAAqC,UAAU,WAAW;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,oBAAoB,YAAY;AAChC,oBAAoB;AACpB;AACA;AACA;AACA;;;;;;;;ACxBA,mEAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;AC3BA,yEAAyB,SAAS,sCAAsC;AACxE;AACA;AACA;;;;;;;;ACHA,oEAA0B,wBAAwB,eAAe;AACjE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;;;;;;;;;;;;ACVA;;AAEA;AACA;AACA;;;AAGA;AACA,UAAU,yEAAQ;AAClB;AACA,eAAe,kFAAY;AAC3B,UAAU,gFAAc;AACxB,CAAC;;;;;;;;;;;;;;;;;ACZD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4E;AACA,UAAU,mEAAK;AACf,UAAU,+EAAW;AACrB,UAAU,0FAAe;AACzB;AACA;AACA,eAAe,4EAAS;AACxB,eAAe,wFAAe;AAC9B,UAAU,0EAAW;AACrB,UAAU,sFAAiB;AAC3B;AACA,CAAC;;;;;;;;;;ACrBD;AACA;AACA,aAAa,a;AACb,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,uBAAuB,YAAY;AACnC;AACA,sBAAsB;AACtB;AACA,OAAO;AACP;AACA;AACA;;;;;;;;AC7BA,mEAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;ACfA,yEAAyB,SAAS,oCAAoC;AACtE,mDAAmD,0BAA0B;AAC7E;;;;;;;;ACFA,mEAAyB,wBAAwB,gBAAgB;AACjE;AACA;AACA;AACA;AACA;;;;;;;;ACLA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;;;;;;;;;;ACbA;AACA;AACA,aAAa,OAAO;AACpB,iBAAiB;AACjB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iBAAiB,YAAY;AAC7B;AACA,sBAAsB;AACtB;AACA,OAAO;;AAEP;AACA;AACA;;;;;;;;AC9BA,mEAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;ACfA,yEAAyB,SAAS,0CAA0C;AAC5E,mDAAmD,0BAA0B;AAC7E;AACA;;;;;;;;ACHA,mEAAyB,wBAAwB,YAAY;AAC7D;AACA;AACA;AACA;AACA;;;;;;;;ACLA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;;;;;;;ACbA,mEAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;AChBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAU,mEAAK;AACf,aAAa,sEAAmB;AAChC,eAAe,4EAAS;AACxB,UAAU,0EAAW;AACrB,CAAC;;;;;;;;;;ACZD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iBAAiB,YAAY;AAC7B,sBAAsB;AACtB;AACA;AACA,OAAO;AACP;AACA;AACA;;;;;;;;AC/BA,mEAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACzCA;AACA,WAAW;AACX,CAAC;AACD;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;ACRA;AACA;AACA,mBAAmB;AACnB,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;ACRA;AACA,OAAO,qBAAqB;;AAE5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,oCAAoC,YAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,6BAA6B,YAAY;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,YAAY;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7cdd4dc6b8fe55803b59","module.exports = require(\"moduler\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moduler\"\n// module id = 0\n// module chunks = 0","import './users/module'\r\nimport './roles-permissions/module'\r\nimport './courses/module'\r\nimport './lessions/module'\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/index.js\n// module id = 1\n// module chunks = 0","module.exports = require(\"diet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"diet\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"diet-cross-origin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"diet-cross-origin\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 4\n// module chunks = 0","  // Create an app\r\n    const app = require('moduler')\r\n    const SQL = require('sequelize')\r\n    const diet = require('diet')\r\n    const crossOrigin = require('diet-cross-origin')\r\n\r\n    app.module('a', function(){})\r\n    app.module({'b' : function(){}})\r\n    import './modules'\r\n\r\n    const server = diet()\r\n    server.header(crossOrigin({\r\n      defaults: {\r\n        origin: '*',\r\n        credentials: true\r\n      }\r\n    }))\r\n\r\n    server.listen('http://localhost:8000')\r\n\r\n    const db = new SQL('postgres', 'postgres', 'qwerty', {\r\n      host: 'localhost',\r\n      dialect: 'postgres',\r\n\r\n      pool: {\r\n        max: 5,\r\n        min: 0,\r\n        idle: 10000\r\n      }\r\n    })\r\n\r\n    db.authenticate()\r\n\r\n    app\r\n      .config('server', server)\r\n      .config('Q', SQL)\r\n      .config('db', db)\r\n\n    // app.module('setup', function($){\r\n\r\n    let models = app.store();\r\n    app.config('model', models.getOrSet);\r\n    app.config('models', models.getAll);\r\n    let relations = app.store();\r\n    app.config('relation', relations.getOrSet);\r\n    app.config('relations', relations.getAll);\r\n    let controllers = app.store();\r\n    app.config('controller', controllers.getOrSet);\r\n    app.config('controllers', controllers.getAll);\r\n    let routes = app.store();\r\n    app.config('route', routes.getOrSet);\r\n    app.config('routes', routes.getAll);\r\n\r\n    app.config('chain', function(){\r\n\t    return (init) => Array.prototype.reduce.call(arguments, (acc, x) => acc && acc.then ? acc.then(x) : x(acc), init)\r\n    })\r\n\r\n    app.modules()\r\n    app.run(function({server, routes}){\r\n      routes();\r\n      server.get('/', ($)=>{\r\n        $.data.message = 'Hello World!!!!'\r\n        $.data.context = this.constructor.name\r\n        $.data.r = Object.getOwnPropertyNames(routes)\r\n        $.data.app = app.constructor.name\r\n        // $.data.isEqual = $ === this\r\n        $.json()\r\n      })\r\n    })\r\n\r\n      // .run(['models'], ($, models)=>{\r\n      //   $.run()\r\n      // })\r\n\r\n      // .then(() => {\r\n      //   console.log('Connection has been established successfully.');\r\n      // })\r\n      // .catch(err => {\r\n      //   console.error('Unable to connect to the database:', err);\r\n      // });\r\n\r\n\r\n// force: true will drop the table if it already exists\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/app.js\n// module id = 5\n// module chunks = 0","export default function CourseCtrl($){\r\n  let { Course } = $.models\r\n  this.relations.Course\r\n  return {\r\n    index : function($){\r\n      Course.findAll({\r\n        include : Course.Author\r\n      }).then(courses => {\r\n        $.data.message = 'Hello World!!!!'\r\n        $.data.courses = courses\r\n        $.data.body = $.body\r\n        $.json()\r\n      })\r\n    },\r\n    new : function($){\r\n      var course = Course.build($.query)\r\n      $.data.msg = $.query\r\n      course.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      Course.sync({force: true})\r\n      $.data.msg = {installed: 'courses table'}\r\n      $.json()\r\n    }\r\n  }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/courses/course.controller.js\n// module id = 6\n// module chunks = 0","export default function({Q, db}){\r\n  return db.define('course', {\r\n    id : {\r\n      type: Q.UUID,\r\n      primaryKey: true,\r\n      defaultValue : Q.UUIDV1\r\n    },\r\n    title : {\r\n      type: Q.STRING\r\n    },\r\n    slug : {\r\n      type: Q.STRING\r\n    },\r\n    description : {\r\n      type: Q.TEXT\r\n    },\r\n    video : {\r\n      type: Q.STRING\r\n    },\r\n    image : {\r\n      type: Q.STRING\r\n    },\r\n    level : Q.INTEGER,\r\n    color : Q.INTEGER,\r\n    active : {\r\n      type : Q.BOOLEAN,\r\n      defaultValue : false\r\n    }\r\n  })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/courses/course.model.js\n// module id = 7\n// module chunks = 0","export default function({models: { User, Course, Lession }}){\r\n  Course.Author = Course.belongsTo(User, {as: 'author'})\t\t// owner (lecturer)\r\n\t// Course.Student = Course.belongsToMany(User, { through: User })\t// students\r\n  Course.hasMany(Lession)\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/courses/course.relations.js\n// module id = 8\n// module chunks = 0","export default function( { server, controllers :  { CourseCtrl }} ){\r\n    server\r\n        .get('/courses', CourseCtrl.index)\r\n        .get('/course/new', CourseCtrl.new)\r\n        .get('/course/install', CourseCtrl.install)\r\n\r\n    // server.get('/:page', function($){\r\n    //     $.data.msg = $.params.page\r\n    //     $.json()\r\n    // })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/courses/course.routes.js\n// module id = 9\n// module chunks = 0","import $ from 'moduler'\r\n\r\nimport Course from './course.model'\r\nimport CourseRelations from './course.relations'\r\nimport CourseRoutes from './course.routes'\r\nimport CourseCtrl from './course.controller'\r\n\r\n\r\n$.module('courses', function($){\r\n\t$.model({Course})\r\n\t$.relation({Course:CourseRelations})\r\n\t$.controller({CourseCtrl})\r\n\t$.route({CourseRoutes})\r\n})\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/courses/module.js\n// module id = 10\n// module chunks = 0","export default function LessionCtrl({ models: { Lession }}){\r\n  return {\r\n    index : function($){\r\n      Lession\r\n        .findAll()\r\n        .then(lession => {\r\n          $.data.message = 'Hello World!!!!'\r\n          $.data.lession = lession\r\n          $.data.body = $.body\r\n          $.json()\r\n      })\r\n    },\r\n    new : function($){\r\n      var lession = Lession.build($.query)\r\n      $.data.msg = $.query\r\n      lession.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      Lession.sync({force: true})\r\n      $.data.msg = {installed: 'lession table'}\r\n      $.json()\r\n    }\r\n  }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/lessions/lession.controller.js\n// module id = 11\n// module chunks = 0","export default function({Q, db}){\r\n  return db.define('lession', {\r\n    id : {\r\n      type: Q.UUID,\r\n      primaryKey: true,\r\n      defaultValue : Q.UUIDV1\r\n    },\r\n    title : {\r\n      type: Q.STRING\r\n    },\r\n    slug : {\r\n      type: Q.STRING\r\n    },\r\n    description : {\r\n      type: Q.TEXT\r\n    },\r\n    video : {\r\n      type: Q.STRING\r\n    },\r\n    image : {\r\n      type: Q.STRING\r\n    },\r\n    grade : Q.INTEGER,\r\n    complete : {\r\n      type : Q.BOOLEAN\r\n    }\r\n  })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/lessions/lession.model.js\n// module id = 12\n// module chunks = 0","export default function({models: { Lession, User, Course, LessionUser }}){\r\n\tLession.belongsTo(Course)\r\n  // Lession.belongsToMany(User)\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/lessions/lession.relations.js\n// module id = 13\n// module chunks = 0","export default function( { server, controllers : { LessionCtrl }} ){\r\n  server\r\n    .get('/lessions', LessionCtrl.index)\r\n    .get('/lession/new', LessionCtrl.new)\r\n    .get('/lession/install', LessionCtrl.install)\r\n\r\n    // server.get('/:page', function($){\r\n    //     $.data.msg = $.params.page\r\n    //     $.json()\r\n    // })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/lessions/lession.routes.js\n// module id = 14\n// module chunks = 0","import $ from 'moduler'\r\n\r\nimport Lession from './lession.model'\r\nimport LessionRoutes from './lession.routes'\r\nimport LessionCtrl from './lession.controller'\r\n\r\n\r\n$.module('lessions', function($){\r\n\t$.model({Lession})\r\n\t$.relation('Lession', require('./lession.relations'))\r\n\t$.controller({LessionCtrl})\r\n\t$.route({LessionRoutes})\r\n})\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/lessions/module.js\n// module id = 15\n// module chunks = 0","import $ from 'moduler'\r\n\r\nimport Role from './role.model'\r\nimport Permission from './permission.model'\r\nimport RolePermission from './roles-permissions.model'\r\nimport RoleCtrl from './role.controller'\r\nimport PermissionCtrl from './permission.controller'\r\nimport PermissionRoutes from './permission.routes'\r\nimport RoleRoutes from './role.routes'\r\n\r\n$.module('admin', function($){\t\r\n\t$.model({Role})\r\n\t$.model({Permission})\r\n\t$.model({RolePermission})\r\n\t$.relation('Role', require('./role.relations'))\r\n\t$.relation('Permission', require('./permission.relations'))\r\n\t$.controller({RoleCtrl})\r\n\t$.controller({PermissionCtrl})\r\n\t$.route({RoleRoutes})\r\n\t$.route({PermissionRoutes})\r\n\t// console.log('ROUTES', $.routes.PermissionRoutes)\r\n})\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/module.js\n// module id = 16\n// module chunks = 0","import seed from './permission.seed'\r\nexport default function PermissionCtrl({\r\n    models: { Permission }  \r\n  }){\r\n  // relations.Permission\r\n  return {\r\n    index : function($){\r\n      Permission\r\n        .findAll()\r\n        .then(permissions => {\r\n          $.data.message = 'Hello World!!!!'\r\n          $.data.permissions = permissions\r\n          $.json()\r\n      })\r\n    },\r\n    new : function($){\r\n      $.data.msg = $.query\r\n      var permission = Permission.build($.query)\r\n      permission.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      Permission.sync({force: true}).then(()=>{\r\n        seed(Permission)\r\n        $.data.msg = {installed: 'permissions table'}\r\n        $.json()\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/permission.controller.js\n// module id = 17\n// module chunks = 0","export default function({Q, db}){\r\n\treturn db.define('permission', {\r\n    id : {\r\n      type: Q.UUID,\r\n      primaryKey: true,\r\n      defaultValue: Q.UUIDV1\r\n    },\r\n    name : {\r\n      type: Q.STRING,\r\n      unique: true\r\n    },\r\n    description : {\r\n      type: Q.STRING\r\n    }\r\n  })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/permission.model.js\n// module id = 18\n// module chunks = 0","export default function({models: { Role, Permission, RolePermission }}){\r\n\tPermission.Role = Permission.belongsToMany(Role, { through: RolePermission })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/permission.relations.js\n// module id = 19\n// module chunks = 0","export default function({ server, controllers : {PermissionCtrl}}){\r\n  server\r\n    .get('/permissions', PermissionCtrl.index)\r\n    .get('/permission/new', PermissionCtrl.new)\r\n    .get('/permission/install', PermissionCtrl.install)\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/permission.routes.js\n// module id = 20\n// module chunks = 0","export default function( Permission ){\r\n\tPermission.create({\r\n\t\tname : 'manageUsers',\r\n\t\tdescription : 'Manage Users'\r\n\t})\r\n\tPermission.create({\r\n\t\tname : 'manageCourses',\r\n\t\tdescription : 'Manage Courses'\r\n\t})\r\n\tPermission.create({\r\n\t\tname : 'listenCourses',\r\n\t\tdescription : 'Listen Courses'\r\n\t})\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/permission.seed.js\n// module id = 21\n// module chunks = 0","import seed from './role.seed'\r\nexport default function RoleCtrl({\r\n    models: { Role },\r\n    relations : { RoleRel }\r\n  }){\r\n  return {\r\n    index : function($){\r\n      Role\r\n        .findAll()\r\n        .then(roles => {\r\n          $.data.message = 'Hello World!!!!'\r\n          $.data.roles = roles\r\n          $.json()\r\n      })\r\n    },\r\n    new : function($){\r\n      $.data.msg = $.query\r\n      let role = Role.build($.query)\r\n      role.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      Role.sync({force: true}).then(()=>{\r\n        seed(Role)\r\n        $.data.msg = {installed: 'roles table'}\r\n        $.json()\r\n      })\r\n\r\n    }\r\n  }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/role.controller.js\n// module id = 22\n// module chunks = 0","export default function({Q, db}){\r\n  return  db.define('role', {\r\n    id : {\r\n      type: Q.UUID,\r\n      primaryKey: true,\r\n      defaultValue: Q.UUIDV1,      \r\n    },\r\n    name : {\r\n      type: Q.STRING,\r\n      unique: true\r\n    },\r\n    description : {\r\n      type: Q.STRING\r\n    }\r\n  })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/role.model.js\n// module id = 23\n// module chunks = 0","export default function({models: { Role, User, Permission, RolePermission }}){\r\n\tRole.Permission = Role.belongsToMany(Permission, { through: RolePermission })\r\n\tRole.User = Role.hasMany(User)\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/role.relations.js\n// module id = 24\n// module chunks = 0","export default function({ server, controllers : { RoleCtrl }}){\r\n  server\r\n    .get('/roles', RoleCtrl.index)\r\n    .get('/role/new', RoleCtrl.new)\r\n    .get('/role/install', RoleCtrl.install)\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/role.routes.js\n// module id = 25\n// module chunks = 0","export default function( Role ){\r\n\t// Role.create({\r\n\t// \tname : 'admin',\r\n\t// \tdescription : 'Administrator'\r\n\t// })\r\n\t// Role.create({\r\n\t// \tname : 'lecturer',\r\n\t// \tdescription : 'Lecturer'\r\n\t// })\r\n\t// Role.create({\r\n\t// \tname : 'student',\r\n\t// \tdescription : 'Student'\r\n\t// })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/role.seed.js\n// module id = 26\n// module chunks = 0","export default function({Q, db}){\r\n  return db.define('role-permission', {\r\n    id : {\r\n      type: Q.UUID,\r\n      primaryKey: true,\r\n      defaultValue: Q.UUIDV1\r\n    // },\r\n    // roleId : {\r\n    //   type: Q.UUID,\r\n    //   allowNull: false\r\n    // },\r\n    // permissionId : {\r\n    //   type: Q.UUID,\r\n    //   allowNull: false\r\n    }\r\n  })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/roles-permissions/roles-permissions.model.js\n// module id = 27\n// module chunks = 0","import $ from 'moduler'\r\n\r\nimport User from './user.model'\r\nimport UserRoutes from './user.routes'\r\nimport UserCtrl from './user.controller'\r\nimport UserRelations from './user.relations'\r\n\r\n$.module('users', function($){\r\n\t$.model({User})\r\n\t$.relation({User:UserRelations})\r\n\t$.controller({UserCtrl})\r\n\t$.route({UserRoutes})\r\n})\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/users/module.js\n// module id = 28\n// module chunks = 0","import seed from './user.seed'\r\nexport default function UserCtrl($$){\r\n  this.relations.User\r\n  let User = this.models.User\r\n\r\n  return {\r\n    index : function($){\r\n      User\r\n        .findAll()\r\n        .then(users => {\r\n          $.data.message = 'Hello World!!!!'\r\n          $.data.users = users\r\n          $.data.body = $.body\r\n          $.json()\r\n        })\r\n\r\n    },\r\n    new : function($){\r\n      var user = User.build($.query)\r\n      $.data.msg = $.query\r\n      user.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      User.sync({force: true}).then(()=>{\r\n        $.data.msg = {installed: 'users table'}\r\n        seed($$)\r\n        $.json()\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/users/user.controller.js\n// module id = 29\n// module chunks = 0","export default function({Q, db}){\r\n  return db.define('user', {\r\n    id : {\r\n      type: Q.UUID,\r\n      primaryKey: true,\r\n      defaultValue: Q.UUIDV1\r\n    },\r\n    username : {\r\n      type: Q.STRING,\r\n      unique: true\r\n    },\r\n    email : {\r\n      type: Q.STRING,\r\n      unique: true\r\n    },\r\n    password : {\r\n      type: Q.STRING.BINARY\r\n    },\r\n    firstName : {\r\n      type: Q.STRING\r\n    },\r\n    lastName : {\r\n      type: Q.STRING\r\n    },\r\n    image : {\r\n      type: Q.STRING\r\n    },\r\n    description : {\r\n      type: Q.TEXT\r\n    },\r\n    state : {\r\n      type : Q.INTEGER,\r\n      defaultValue : 0\r\n    }\r\n  // }, {\r\n  //   defaultScope: {\r\n  //     where: {\r\n  //       state: 1\r\n  //     }\r\n  //   }\r\n  })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/users/user.model.js\n// module id = 30\n// module chunks = 0","export default function({\r\n  models: { User, Course, Role }\r\n}){\r\n  User.Courses = User.hasMany(Course)\r\n  User.Role = User.belongsTo(Role, {\r\n    as: \"role\"    \r\n  })\r\n  return true\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/users/user.relations.js\n// module id = 31\n// module chunks = 0","export default function({\r\n    server,\r\n    controllers : { UserCtrl }\r\n  }){\r\n  server\r\n    .get('/users', UserCtrl.index)\r\n    .get('/user/new', UserCtrl.new)\r\n    .get('/user/install', UserCtrl.install)\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/users/user.routes.js\n// module id = 32\n// module chunks = 0","export default function( $ ){\r\n  let { User, Role, Course } = $.models;\n\r\n  $.chain(\r\n    ( ) => ( Role.build({\r\n  \t\tname : 'admin',\r\n  \t\tdescription : 'Administrator'\r\n  \t}).save() ),\r\n    (administrator) => {\n      var admin = new User\n      admin.setRole(administrator, {save: false})\n      admin.username = 'admin'\r\n      admin.email = 'admin@course.plus'\r\n      admin.firstName = 'Dane'\r\n      admin.lastName = 'Brdarski'\r\n      admin.password = 'qwertybanana'\r\n      admin.image = 'dane.jpg'\r\n      admin.description = 'All-seeing, All-knowing. The Admin.'\n      admin.save()\r\n  \t}\r\n  )()\n  $.chain(\r\n    () => ( Role.build({\r\n  \t\tname : 'student',\r\n  \t\tdescription : 'Student'\r\n  \t}).save() ),\n    (student) => {\n      let pepe = new User\n      pepe.setRole(student, {save: false})\r\n      pepe.username = 'student'\r\n      pepe.email = 'student@course.plus'\r\n      pepe.firstName = 'Pepe'\r\n      pepe.lastName = 'Biserov'\r\n      pepe.password = 'qwertybanana'\n      pepe.save()\r\n    }\n  )()\n  $.chain(\r\n    () => ( Role.build({\r\n      name : 'lecturer',\r\n      description : 'Lecturer'\r\n    }).save() ),\n    (lecturer) => {\n      let dane = new User\n      dane.setRole(lecturer, {save: false})\n      dane.username = 'dane'\r\n      dane.email = 'dane@course.plus'\r\n      dane.firstName = 'Dane'\r\n      dane.lastName = 'Brdarski'\r\n      dane.password = 'qwertybanana'\n      dane.image = 'dane.jpg'\n      dane.description = 'Dane is a front end developer at Schilling and the author of this awesome app. His expertese ranges from design, HTML, CSS, JavaScript, Angular and more recently some PHP.'\r\n      dane.save()\n\n      let alex = new User\r\n      alex.setRole(lecturer, {save: false})\r\n      alex.username = 'alex'\r\n      alex.email = 'alex@course.plus'\r\n      alex.firstName = 'Alex'\r\n      alex.lastName = 'Pffeipher'\r\n      alex.password = 'qwertybanana'\r\n      alex.image = 'alex.jpg'\r\n      alex.description = 'Alex is the Founder & CEO of Wayward Wild, a media incubator and content studio helping young websites, podcasts, web series, and publications stay true to their DNA.'\r\n      alex.save()\n        .then((alex)=>{\n          let course = new Course\n          course.setAuthor(alex, {save: false})\n          course.title = 'Laravel 101',\r\n          course.slug = 'laravel-101',\r\n          course.description = 'Dive into the Laravel essentials with this course by one of the core contributors.',\r\n          course.level = 1,\r\n          course.color = 1,\r\n          course.image = 'laravel.png',\r\n          course.video = 'lnf1GdNxDbc'\r\n          course.save()\n        })\n\n      let kirby = new User\r\n      kirby.setRole(lecturer, {save: false})\r\n      kirby.username = 'kirby'\r\n      kirby.email = 'kirby@course.plus'\r\n      kirby.firstName = 'Kirby'\r\n      kirby.lastName = 'Jones'\r\n      kirby.password = 'qwertybanana'\r\n      kirby.image = 'kirby.jpg'\r\n      kirby.description = 'Kirby Jones is a San Francisco based fine artist whose projects have received international attention. The 1000 Journals Project, launched in 2000, has been exhibited at the San Francisco Museum of Modern Art and the Skirball Cultural Center in Los Angeles.'\r\n      kirby.save()\r\n\n      let larry = new User\r\n      larry.setRole(lecturer, {save: false})\r\n      larry.username = 'larry'\r\n      larry.email = 'larry@course.plus'\r\n      larry.firstName = 'Kirby'\r\n      larry.lastName = 'Jones'\r\n      larry.password = 'qwertybanana'\r\n      larry.image = 'larry.jpg'\r\n      larry.description = 'Larry Smith is a veteran software developer and designer. Once upon a time, he was the co-founder and CEO of Virb (2007-2013), a DIY website builder for creatives which was acquired by GoDaddy in late 2013. He’s on twitter at @LarryTheSmith.'\r\n      larry.save()\r\n    }\n  )()\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/modules/users/user.seed.js\n// module id = 33\n// module chunks = 0"],"sourceRoot":""}