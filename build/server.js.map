{"version":3,"sources":["webpack:///webpack/bootstrap 7409eb246086b16c4781","webpack:///external \"moduler\"","webpack:///./~/mithril/test-utils/callAsync.js","webpack:///./~/mithril/test-utils/parseURL.js","webpack:///./src/modules/index.js","webpack:///./src/templates/module.js","webpack:///./src/view-models/module.js","webpack:///./~/mithril/test-utils/browserMock.js","webpack:///external \"diet\"","webpack:///external \"diet-cross-origin\"","webpack:///external \"diet-static\"","webpack:///external \"fs\"","webpack:///external \"jsonapi-serializer\"","webpack:///external \"mithril\"","webpack:///external \"mithril-node-render\"","webpack:///external \"ramda\"","webpack:///external \"sequelize\"","webpack:///./src/modules/admin/admin.module.js","webpack:///./src/modules/admin/admin.seed.js","webpack:///./src/modules/admin/roles-permissions/permission.controller.js","webpack:///./src/modules/admin/roles-permissions/permission.model.js","webpack:///./src/modules/admin/roles-permissions/role.controller.js","webpack:///./src/modules/admin/roles-permissions/role.model.js","webpack:///./src/modules/admin/roles-permissions/roles-permissions.model.js","webpack:///./src/modules/admin/users/user.controller.js","webpack:///./src/modules/admin/users/user.model.js","webpack:///./src/modules/courses/course.controller.js","webpack:///./src/modules/courses/course.model.js","webpack:///./src/modules/courses/course.relations.js","webpack:///./src/modules/courses/module.js","webpack:///./src/modules/lessions/lession.controller.js","webpack:///./src/modules/lessions/lession.model.js","webpack:///./src/modules/lessions/lession.relations.js","webpack:///./src/modules/lessions/module.js","webpack:///./src/modules/utils/decorators.js","webpack:///./src/modules/utils/kebab.js","webpack:///./src/modules/utils/slugify.js","webpack:///./src/modules/utils/utils.module.js","webpack:///./src/server.js","webpack:///./src/templates/content.component.js","webpack:///./src/templates/course-edit.template.js","webpack:///./src/templates/course-item.component.js","webpack:///./src/templates/courses.template.js","webpack:///./src/templates/topbar.component.js","webpack:///./src/view-models/course.vmodel.js","webpack:///./~/mithril/querystring/parse.js","webpack:///./~/mithril/test-utils/domMock.js","webpack:///./~/mithril/test-utils/pushStateMock.js","webpack:///./~/mithril/test-utils/xhrMock.js"],"names":["$","module","component","route","model","controller","resolver","api","server","controllers","PermissionCtrl","RoleCtrl","UserCtrl","get","index","single","new","install","models","User","Role","Permission","Course","Promise","all","chain","create","name","description","build","save","administrator","admin","setRole","username","email","firstName","lastName","password","image","student","pepe","lecturer","dane","alex","then","laravel","setAuthor","title","slug","level","color","video","lara401","kirby","sass","zurb","larry","ng","jack","ng2","temps","findAll","permissions","data","message","json","msg","query","permission","sync","force","seed","installed","Model","Uuid","Enum","Str","Text","Bool","Int","BigInt","Float","Real","Dbl","Dec","hasOne","belongsTo","hasMany","belongsToMany","unique","through","roles","role","RolePermission","findOne","where","params","include","Courses","signin","response","user","BinaryStr","Scope","defaultValue","attributes","exclude","type","foreignKey","CourseCtrl","Author","edit","resolve","reject","course","primaryKey","values","schemas","Lession","as","config","attach","LessionCtrl","relations","lession","body","LessionUser","lessions","Q","db","removeEmptyKeys","o","newObj","Object","keys","forEach","key","val","propertyDecorator","fn","descriptor","length","hasOwnProperty","bind","emptyDecorator","target","property","initializer","sequalizeClassAttributeDecorator","define","str","kebab","dataType","defaultOptions","options","assign","serializerDecoratorsTemplate","store","schema","console","log","jsonapi","attribute","isRelation","isUuid","push","defineProperty","enumerable","rel","serializerAttributeDecorator","serializerRelationDecorator","serializerUuidDecorator","relationType","constructor","relation","sequalizeAttributeDecorator","sequalizeRelationDecorator","serializerDecorators","sequelizeAttributeDecorators","ENUM","UUID","UUIDV1","STRING","BINARY","TEXT","BOOLEAN","INTEGER","BIGINT","FLOAT","REAL","DOUBLE","DECIMAL","sequelizeRelationshipDecorators","x","KEBAB_REGEX","kebabCase","charAt","toLowerCase","slice","replace","match","st","trim","slugify","decorators","app","require","SQL","diet","global","m","render","crossOrigin","dietStatic","r","Serializer","fs","baseTemplate","readFileSync","header","defaults","origin","credentials","staticFiles","path","listen","footer","host","dialect","pool","max","min","idle","authenticate","components","getOrSet","getAll","serializers","nameOrBoth","maybeModel","hasSeparateModel","defaultSerializer","instance","newInstance","call","serializer","with","reduce","obj","prop","without","publicUser","dataHandler","serialize","method","post","put","delete","patch","routes","t","send","end","routeName","view","init","Array","prototype","arguments","acc","modules","run","utils","class","vnode","attrs","children","_","Topbar","Content","CourseItem","xetter","state","xettings","value","once","num","stateModel","colors","levels","$$","v","customSlug","item2","item","oninput","withAttr","onchange","map","items","oncreate","link","bg","href","style","backgroundImage","author","id"],"mappings":"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tC5D,SAAK4D,cAdiC;AAetC3D,YAAQ2F,2BAA2B,QAA3B,CAf8B;AAgBtC1F,eAAW0F,2BAA2B,WAA3B,CAhB2B;AAiBtCzF,aAASyF,2BAA2B,SAA3B,CAjB6B;AAkBtCxF,mBAAewF,2BAA2B,eAA3B,CAlBuB;AAmBtCzE,WAAOyC;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxDwC,GAAxC,CA0DA,IAAI,EAAEvE,KAAF,EAASC,IAAT,EAAeE,GAAf,EAAoBC,IAApB,EAA0BF,IAA1B,EAAgCG,IAAhC,EAAsCO,MAAtC,KAAiD6F,4BAArD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAO;AACLA,gCADK;AAELc,mCAFK;AAGLf;AAHK,GAAP;AAKD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;AC3XA;AAA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;;;;;;;;;;;;;AC/GD;;AAEA;AACA;AACA;;AAEA,2CAA2C;AAC3C,gBAAgB,oBAAoB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClCA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,IAAI;AACJ,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,8BAA8B,KAAK;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA,2DAA2D,8BAA8B;AACzF;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA,uBAAuB,wEAAwE;AAC/F,4BAA4B,iCAAiC;AAC7D;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA,uBAAuB,kFAAkF;AACzG,4BAA4B,yBAAyB;AACrD;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;;AAEA;;AAEA;AACA;AACA,uBAAuB,kGAAkG;AACzH,4BAA4B,sEAAsE;AAClG,MAAM;AACN;AACA,uBAAuB,oGAAoG;AAC3H,4BAA4B,uEAAuE;AACnG,MAAM;AACN;;AAEA;;AAEA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wDAAwD;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA,IAAI;AACJ,wBAAwB,qBAAqB;AAC7C,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;AClhBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,qDAAqD;;AAEnE;AACA;AACA;AACA;AACA;AACA,8BAA8B,uEAAuE;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wEAAwE,mBAAmB;AAC3F;AACA;AACA;AACA,oEAAoE,+CAA+C;AACnH;AACA;AACA,gEAAgE,eAAe;AAC/E;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,4BAA4B;AAC1C;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,uBAAuB;AACrC;AACA,GAAG;AACH;AACA;AACA;AACA,cAAc,wDAAwD;AACtE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,iBAAiB,oEAAoE;AACrF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,oEAAoE;AACnF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AC9LA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kEAAkE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4CAA4C,qBAAqB;AAC1F;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,YAAY;AACZ,IAAI;AACJ;AACA;AACA;AACA;AACA,2CAA2C,kEAAkE;AAC7G;AACA,0BAA0B,yDAAyD;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc;AACvC;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,IAAI;AACJ,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 37);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7409eb246086b16c4781","module.exports = require(\"moduler\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moduler\"\n// module id = 0\n// module chunks = 0","\"use strict\"\n\nmodule.exports = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mithril/test-utils/callAsync.js\n// module id = 1\n// module chunks = 0","\"use strict\"\n\nmodule.exports = function parseURL(url, root) {\n\tvar data = {}\n\tvar protocolIndex = url.indexOf(\"://\")\n\tvar pathnameIndex = protocolIndex > -1 ? url.indexOf(\"/\", protocolIndex + 3) : url.indexOf(\"/\")\n\tvar searchIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tif ((pathnameIndex > searchIndex && searchIndex > -1) || (pathnameIndex > hashIndex && hashIndex > -1)) pathnameIndex = -1\n\tif (searchIndex > hashIndex && hashIndex > -1) searchIndex = -1\n\tvar pathnameEnd = searchIndex > -1 ? searchIndex : hashIndex > -1 ? hashIndex : url.length\n\tif (protocolIndex > -1) {\n\t\t//it's a full URL\n\t\tif (pathnameIndex < 0) pathnameIndex = url.length\n\t\tvar portIndex = url.indexOf(\":\", protocolIndex + 1)\n\t\tif (portIndex < 0) portIndex = pathnameIndex\n\t\tdata.protocol = url.slice(0, protocolIndex + 1)\n\t\tdata.hostname = url.slice(protocolIndex + 3, portIndex)\n\t\tdata.port = url.slice(portIndex + 1, pathnameIndex)\n\t\tdata.pathname = url.slice(pathnameIndex, pathnameEnd) || \"/\"\n\t}\n\telse {\n\t\tdata.protocol = root.protocol\n\t\tdata.hostname = root.hostname\n\t\tdata.port = root.port\n\t\tif (pathnameIndex === 0) {\n\t\t\t//it's an absolute path\n\t\t\tdata.pathname = url.slice(pathnameIndex, pathnameEnd) || \"/\"\n\t\t}\n\t\telse if (searchIndex !== 0 && hashIndex !== 0) {\n\t\t\t//it's a relative path\n\t\t\tvar slashIndex = root.pathname.lastIndexOf(\"/\")\n\t\t\tvar path = slashIndex > -1 ? root.pathname.slice(0, slashIndex + 1) : \"./\"\n\t\t\tvar normalized = url.slice(0, pathnameEnd).replace(/^\\.$/, root.pathname.slice(slashIndex + 1)).replace(/^\\.\\//, \"\")\n\t\t\tvar dotdot = /\\/[^\\/]+?\\/\\.{2}/g\n\t\t\tvar pathname = path + normalized\n\t\t\tpathname = path + normalized\n\t\t\twhile (dotdot.test(pathname)) pathname = pathname.replace(dotdot, \"\")\n\t\t\tpathname = pathname.replace(/\\/\\.\\//g, \"/\").replace(/^(\\/\\.{2})+/, \"\") || \"/\"\n\t\t\tdata.pathname = pathname\n\t\t}\n\t}\n\tvar searchEnd = hashIndex > -1 ? hashIndex : url.length\n\tdata.search = searchIndex > -1 ? url.slice(searchIndex, searchEnd) : \"\"\n\tdata.hash = hashIndex > -1 ? url.slice(hashIndex) : \"\"\n\treturn data\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mithril/test-utils/parseURL.js\n// module id = 2\n// module chunks = 0","import './utils/utils.module'\r\nimport './admin/admin.module'\r\nimport './courses/module'\r\nimport './lessions/module'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/index.js","import $ from 'moduler'\r\n\r\nimport Topbar from './topbar.component'\r\nimport CourseItem from './course-item.component'\r\nimport Content from './content.component'\r\nimport CoursesIndex from './courses.template'\r\nimport CourseEdit from './course-edit.template'\r\n\r\n$.module('templates', function($){\r\n  $.component({Topbar})\r\n  $.component({Content})\r\n  $.component({CourseItem})\r\n  $.component({CoursesIndex})\r\n  $.component({CourseEdit})\r\n  $.route({'/courses': CoursesIndex})\r\n  $.route({'/course/new': CourseEdit})\r\n  $.route({'/course/:slug': CourseEdit})\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/module.js","import $ from 'moduler'\r\n\r\nimport Course from './course.vmodel'\r\n\r\n// $.module('vmodels', function($){\r\n//   $.vmodel({Course})\r\n//   // $.route({'/courses': CoursesIndex})\r\n//   // $.route({'/course/new': Course})\r\n//   // $.route({'/course/:slug': Course})\r\n// })\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view-models/module.js","\"use strict\"\n\nvar pushStateMock = require(\"./pushStateMock\")\nvar domMock = require(\"./domMock\")\nvar xhrMock = require(\"./xhrMock\")\n\nmodule.exports = function(env) {\n\tenv = env || {}\n\tvar $window = env.window = {}\n\n\tvar dom = domMock()\n\tvar xhr = xhrMock()\n\tfor (var key in dom) if (!$window[key]) $window[key] = dom[key]\n\tfor (var key in xhr) if (!$window[key]) $window[key] = xhr[key]\n\tpushStateMock(env)\n\n\treturn $window\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mithril/test-utils/browserMock.js\n// module id = 6\n// module chunks = 0","module.exports = require(\"diet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"diet\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"diet-cross-origin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"diet-cross-origin\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"diet-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"diet-static\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"jsonapi-serializer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonapi-serializer\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"mithril\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mithril\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"mithril-node-render\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mithril-node-render\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"ramda\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ramda\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 15\n// module chunks = 0","import $ from 'moduler'\r\n\r\nimport User from './users/user.model'\r\nimport AdminInstall from './admin.seed'\r\n// import UserRelations from './users/user.relations'\r\nimport UserCtrl from './users/user.controller'\r\nimport Role from './roles-permissions/role.model'\r\nimport Permission from './roles-permissions/permission.model'\r\nimport RolePermission from './roles-permissions/roles-permissions.model'\r\nimport RoleCtrl from './roles-permissions/role.controller'\r\nimport PermissionCtrl from './roles-permissions/permission.controller'\r\n\r\n$.module('admin', function($){\r\n\t$.model({User})\r\n\t// $.relation({User:UserRelations})\r\n\t$.controller({UserCtrl})\r\n\t$.model({Role})\r\n\t$.model({Permission})\r\n\t$.model({RolePermission})\r\n\t$.controller({RoleCtrl})\r\n\t$.controller({PermissionCtrl})\r\n\r\n\t$.resolver({'admin': function({\r\n\t\tapi,\r\n\t\tserver,\r\n\t\tcontrollers: { PermissionCtrl, RoleCtrl, UserCtrl }\r\n\t}){\r\n\r\n\t\tapi.get('/users', UserCtrl.index)\r\n\t\tapi.get('/user/:username', UserCtrl.single)\r\n\r\n\t  server\r\n\t\t\t// .get('/install/admin')\r\n\t    .get('/users', UserCtrl.index)\r\n\t    .get('/user/new', UserCtrl.new)\r\n\t    .get('/user/install', UserCtrl.install)\r\n\r\n\t    .get('/permissions', PermissionCtrl.index)\r\n\t    .get('/permission/new', PermissionCtrl.new)\r\n\t    .get('/permission/install', PermissionCtrl.install)\r\n\r\n\t    .get('/roles', RoleCtrl.index)\r\n\t    .get('/role/new', RoleCtrl.new)\r\n\t    .get('/role/install', RoleCtrl.install)\r\n\t\t}\r\n\t})\r\n\t// console.log('ROUTES', $.routes.PermissionRoutes)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/admin.module.js","export default function({\n\tmodels: { User, Role, Permission, Course }\n}){\n\tPromise.all([\n\t\t$.chain(\n\t\t\tPermission.create({\n\t\t\t\tname : 'manageUsers',\n\t\t\t\tdescription : 'Manage Users'\n\t\t\t}),\n\t\t\tPermission.create({\n\t\t\t\tname : 'manageCourses',\n\t\t\t\tdescription : 'Manage Courses'\n\t\t\t}),\n\t\t\tPermission.create({\n\t\t\t\tname : 'listenCourses',\n\t\t\t\tdescription : 'Listen Courses'\n\t\t\t})\n\t\t)(),\n\t\t$.chain(\n\t    ( ) => ( Role.build({\n\t  \t\tname : 'admin',\n\t  \t\tdescription : 'Administrator'\n\t  \t}).save() ),\n\t    (administrator) => {\n\t      var admin = new User\n\t      admin.setRole(administrator, {save: false})\n\t      admin.username = 'admin'\n\t      admin.email = 'admin@course.plus'\n\t      admin.firstName = 'Dane'\n\t      admin.lastName = 'Brdarski'\n\t      admin.password = 'qwertybanana'\n\t      admin.image = 'dane.jpg'\n\t      admin.description = 'All-seeing, All-knowing. The Admin.'\n\t      admin.save()\n\t  \t}\n\t  )(),\n\t  $.chain(\n\t    () => ( Role.build({\n\t  \t\tname : 'student',\n\t  \t\tdescription : 'Student'\n\t  \t}).save() ),\n\t    (student) => {\n\t      let pepe = new User\n\t      pepe.setRole(student, {save: false})\n\t      pepe.username = 'student'\n\t      pepe.email = 'student@course.plus'\n\t      pepe.firstName = 'Pepe'\n\t      pepe.lastName = 'Biserov'\n\t      pepe.password = 'qwertybanana'\n\t      pepe.save()\n\t    }\n\t  )(),\n\t  $.chain\t(\n\t    () => ( Role.build({\n\t      name : 'lecturer',\n\t      description : 'Lecturer'\n\t    }).save() ),\n\t    (lecturer) => {\n\t      let dane = new User\n\t      dane.setRole(lecturer, {save: false})\n\t      dane.username = 'dane'\n\t      dane.email = 'dane@course.plus'\n\t      dane.firstName = 'Dane'\n\t      dane.lastName = 'Brdarski'\n\t      dane.password = 'qwertybanana'\n\t      dane.image = 'dane.jpg'\n\t      dane.description = 'Dane is a front end developer at Schilling and the author of this awesome app. His expertese ranges from design, HTML, CSS, JavaScript, Angular and more recently some PHP.'\n\t      dane.save()\n\n\t      let alex = new User\n\t      alex.setRole(lecturer, {save: false})\n\t      alex.username = 'alex'\n\t      alex.email = 'alex@course.plus'\n\t      alex.firstName = 'Alex'\n\t      alex.lastName = 'Pffeipher'\n\t      alex.password = 'qwertybanana'\n\t      alex.image = 'alex.jpg'\n\t      alex.description = 'Alex is the Founder & CEO of Wayward Wild, a media incubator and content studio helping young websites, podcasts, web series, and publications stay true to their DNA.'\n\t      alex.save()\n\t        .then((alex)=>{\n\t          let laravel = new Course\n\t          laravel.setAuthor(alex, {save: false})\n\t          laravel.title = 'Laravel 101',\n\t          laravel.slug = 'laravel-101',\n\t          laravel.description = 'Dive into the Laravel essentials with this laravel by one of the core contributors.',\n\t          laravel.level = 'Beginner',\n\t          laravel.color = 'red',\n\t          laravel.image = 'laravel.png',\n\t          laravel.video = 'lnf1GdNxDbc'\n\t          laravel.save()\n\t          let lara401 = new Course\n\t          lara401.setAuthor(alex, {save: false})\n\t          lara401.title = 'Laravel 401'\n\t          lara401.slug = 'laravel-401'\n\t          lara401.description = 'Dive into the Laravel essentials with this course by one of the core contributors.'\n\t          lara401.level = 'Intermediate'\n\t          lara401.color = 'orange'\n\t          lara401.image = 'grunt.png'\n\t          lara401.save()\n\t        })\n\n\t      let kirby = new User\n\t      kirby.setRole(lecturer, {save: false})\n\t      kirby.username = 'kirby'\n\t      kirby.email = 'kirby@course.plus'\n\t      kirby.firstName = 'Kirby'\n\t      kirby.lastName = 'Jones'\n\t      kirby.password = 'qwertybanana'\n\t      kirby.image = 'kirby.jpg'\n\t      kirby.description = 'Kirby Jones is a San Francisco based fine artist whose projects have received international attention. The 1000 Journals Project, launched in 2000, has been exhibited at the San Francisco Museum of Modern Art and the Skirball Cultural Center in Los Angeles.'\n\t      kirby.save().then((kirby)=>{\n\t        let sass = new Course\n\t        sass.setAuthor(kirby, {save: false})\n\t        sass.title = 'SaSS is awesome!'\n\t        sass.slug = 'sass-is-awesome'\n\t        sass.description = 'Build responsive websites with one of the most advanced front end mobile frameworks.'\n\t        sass.level = 'Intermediate'\n\t        sass.color = 'violet'\n\t        sass.image = 'sass.png'\n\t        sass.save()\n\t        let zurb = new Course\n\t        zurb.setAuthor(kirby, {save: false})\n\t        zurb.title = 'ZURB Foudation Fundamentals'\n\t        zurb.slug = 'zurb-foudation-fundamentals'\n\t        zurb.description = 'Build responsive websites with one of the most advanced front end mobile frameworks.'\n\t        zurb.level = 'Beginner'\n\t        zurb.color = 'cyan'\n\t        zurb.image = 'zurb.png'\n\t        zurb.save()\n\t      })\n\n\t      let larry = new User\n\t      larry.setRole(lecturer, {save: false})\n\t      larry.username = 'larry'\n\t      larry.email = 'larry@course.plus'\n\t      larry.firstName = 'Kirby'\n\t      larry.lastName = 'Jones'\n\t      larry.password = 'qwertybanana'\n\t      larry.image = 'larry.jpg'\n\t      larry.description = 'Larry Smith is a veteran software developer and designer. Once upon a time, he was the co-founder and CEO of Virb (2007-2013), a DIY website builder for creatives which was acquired by GoDaddy in late 2013. He’s on twitter at @LarryTheSmith.'\n\t      larry.save().then(()=>{\n\t        let ng = new Course\n\t        ng.setAuthor(jack, {save: false})\n\t        ng.title = 'Angular Pet Shop'\n\t        ng.slug = 'angular-pet-shop'\n\t        ng.description = 'Build your first Angular app. Dive into the most popular application framework developed by Google.'\n\t        ng.level = 'Advanced'\n\t        ng.color = 'orange'\n\t        ng.image = 'angular.png'\n\t        ng.save()\n\t        let ng2 = new Course\n\t        ng2.setAuthor(jack, {save: false})\n\t        ng2.title = 'Advanced Angular Directives'\n\t        ng2.slug = 'advanced-angular-directives'\n\t        ng2.description = 'This course will teach you everything you need to know about directives in Angular.'\n\t        ng2.level = 'Advanced'\n\t        ng2.color = 'yellow'\n\t        ng2.image = 'angular.png'\n\t        ng2.save()\n\t      })\n\n\t      let jack = new User\n\t      jack.setRole(lecturer, {save: false})\n\t      jack.username = 'jack'\n\t      jack.email = 'jack@course.plus'\n\t      jack.firstName = 'Kirby'\n\t      jack.lastName = 'Jones'\n\t      jack.password = 'qwertybanana'\n\t      jack.image = 'jack.jpg'\n\t      jack.description = 'Larry Smith is a veteran software developer and designer. Once upon a time, he was the co-founder and CEO of Virb (2007-2013), a DIY website builder for creatives which was acquired by GoDaddy in late 2013. He’s on twitter at @LarryTheSmith.'\n\t      jack.save().then((jack)=>{\n\t        let laravel = new Course\n\t        laravel.setAuthor(jack, {save: false})\n\t        laravel.title='Laravel Database Essentials'\n\t        laravel.slug='laravel-database-essentials'\n\t        laravel.description='Learn how take advantage of Laravel\\'s built in model classes, model builder and migration manager.'\n\t        laravel.level='Intermediate'\n\t        laravel.color='yellow'\n\t        laravel.image='database.png'\n\t        laravel.save()\n\t        let temps = new Course\n\t        temps.setAuthor(jack, {save: false})\n\t        temps.title = 'Laravel Templates'\n\t        temps.slug = 'laravel-templates'\n\t        temps.description = 'Laravel templating done right. Authored by the godfather of Laravel\\'s own Blade templating engine.'\n\t        temps.level = 'Intermediate'\n\t        temps.color = 'violet'\n\t        temps.image = 'laravel.png'\n\t        temps.save()\n\t      })\n\t    }\n\t  )()\n\t])\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/admin.seed.js","export default function PermissionCtrl({\r\n    models: { Permission }\r\n  }){\r\n  // relations.Permission\r\n  return {\r\n    index : function($){\r\n      Permission\r\n        .findAll()\r\n        .then(permissions => {\r\n          $.data.message = 'Hello World!!!!'\r\n          $.data.permissions = permissions\r\n          $.json()\r\n      })\r\n    },\r\n    new : function($){\r\n      $.data.msg = $.query\r\n      var permission = Permission.build($.query)\r\n      permission.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      Permission.sync({force: true}).then(()=>{\r\n        seed(Permission)\r\n        $.data.msg = {installed: 'permissions table'}\r\n        $.json()\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/roles-permissions/permission.controller.js","export default function({\r\n  Model, Uuid, Enum, Str, Text, Bool, Int, BigInt, Float, Real, Dbl, Dec, hasOne, belongsTo, hasMany, belongsToMany\r\n}){\r\n\treturn @Model class Permission{\r\n\t  @Uuid id\r\n\t  @Str({\r\n\t    unique: true\r\n\t  }) name\r\n\t  @Str description\r\n\r\n\t\t@belongsToMany({\r\n\t\t\tthrough: 'RolePermission'\r\n\t\t}) Role\r\n\t}\r\n}\r\n\r\n// Permission.Role = Permission.belongsToMany(Role, { through: RolePermission })\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/roles-permissions/permission.model.js","export default function RoleCtrl({\r\n    models: { Role },\r\n  }){\r\n  return {\r\n    index : function($){\r\n      Role\r\n        .findAll()\r\n        .then(roles => {\r\n          $.data.message = 'Hello World!!!!'\r\n          $.data.roles = roles\r\n          $.json()\r\n      })\r\n    },\r\n    new : function($){\r\n      $.data.msg = $.query\r\n      let role = Role.build($.query)\r\n      role.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      Role.sync({force: true}).then(()=>{\r\n        seed(Role)\r\n        $.data.msg = {installed: 'roles table'}\r\n        $.json()\r\n      })\r\n\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/roles-permissions/role.controller.js","export default function({\r\n  Model, Uuid, Enum, Str, Text, Bool, Int, BigInt, Float, Real, Dbl, Dec, hasOne, belongsTo, hasMany, belongsToMany\r\n}){\r\n  return @Model class Role{\r\n    @Uuid id\r\n    @Str({unique: true}) name\r\n    @Str description\r\n\r\n    @belongsToMany({\r\n      through: 'RolePermission'\r\n    }) Permission\r\n\r\n    @hasMany User\r\n\r\n  }\r\n}\r\n\r\n\r\n// Role.Permission = Role.belongsToMany(Permission, { through: RolePermission })\r\n// Role.User = Role.hasMany(User)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/roles-permissions/role.model.js","export default function({\r\n  Model, Uuid, Enum, Str, Text, Bool, Int, BigInt, Float, Real, Dbl, Dec, hasOne, belongsTo, hasMany, belongsToMany\r\n}){\r\n  return @Model class RolePermission{\r\n    @Uuid id\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/roles-permissions/roles-permissions.model.js","export default function UserCtrl({\r\n  models: { User }\r\n}){\r\n  return {\r\n    index : function($){\r\n      return User.findAll()\r\n    },\r\n    single : function($){\r\n      return User.findOne({\r\n        where : {\r\n          username : $.params.username\r\n        },\r\n        include : [User.Courses]\r\n      })\r\n    },\r\n    signin : function($){\r\n          $.data.response = 'To Do!!!!!!'\r\n          $.json()\r\n    },\r\n    new : function($){\r\n      var user = User.build($.query)\r\n      $.data.msg = $.query\r\n      user.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      User.sync({force: true}).then(()=>{\r\n        $.data.msg = {installed: 'users table'}\r\n        // seed($$)\r\n        $.json()\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/users/user.controller.js","export default function({\r\n  Model, Uuid, Enum, BinaryStr, Str, Text, Bool, Int, BigInt, Float, Real, Dbl, Dec, hasOne, belongsTo, hasMany, belongsToMany, Scope\r\n}){\r\n  return @Model class User{\r\n    @Uuid id\r\n    @Str({\r\n      unique: true\r\n    }) username\r\n    @Str({\r\n      unique: true\r\n    }) email\r\n    @BinaryStr password\r\n    @Str firstName\r\n    @Str lastName\r\n    @Str image\r\n    @Text description\r\n    @Int({\r\n      defaultValue: 0\r\n    }) state\r\n    @Scope({\r\n      attributes: {\r\n        exclude: ['password']\r\n      }\r\n    }) default\r\n\r\n    @hasMany({\r\n      type: 'Course',\r\n      foreignKey: 'authorId'\r\n    }) Courses\r\n    @belongsTo Role\r\n  }\r\n\r\n  // return db.define('user', {\r\n  //   id : {\r\n  //     type: Q.UUID,\r\n  //     primaryKey: true,\r\n  //     defaultValue: Q.UUIDV1\r\n  //   },\r\n  //   username : {\r\n  //     type: Q.STRING,\r\n  //     unique: true\r\n  //   },\r\n  //   email : {\r\n  //     type: Q.STRING,\r\n  //     unique: true\r\n  //   },\r\n  //   password : {\r\n  //     type: Q.STRING.BINARY\r\n  //   },\r\n  //   firstName : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   lastName : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   image : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   description : {\r\n  //     type: Q.TEXT\r\n  //   },\r\n  //   state : {\r\n  //     type : Q.INTEGER,\r\n  //     defaultValue : 0\r\n  //   }\r\n  // }, {\r\n  //   defaultScope: {\r\n  //     attributes: {\r\n  //       exclude: ['password']\r\n  //     }\r\n  //   }\r\n  // })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/admin/users/user.model.js","export default function CourseCtrl({\r\n  models: { Course }\r\n}){\r\n\r\n  return {\r\n    index : function(){\r\n      return Course.findAll({\r\n        include : [Course.Author]\r\n      })\r\n    },\r\n    edit : function($){\r\n      return Course.findOne({\r\n        where : {\r\n          slug : $.params.slug\r\n        },\n        include : [Course.Author]\n      })\r\n    },\r\n    new : function($){\r\n      return new Promise((resolve, reject) => resolve(new Course))\r\n    },\r\n    create : function($){\r\n      var course = Course.build($.query)\r\n      return course.save()\r\n    },\r\n    install : function($){\r\n      Course.sync({force: true})\r\n      $.data.msg = {installed: 'courses table'}\r\n      $.json()\r\n    }\r\n  }\r\n}\r\n\r\n// function ApiController(){}\r\n// function ActiveModelSerializer(){}\r\n//\r\n// let serializer = {\r\n//   attributes: ['id', 'asdf'],\r\n//   relations: {\r\n//     allow: ['lessions'],\r\n//     include: ['author']\r\n//   }\r\n// };\r\n//\r\n// @ApiController({\r\n//   model: 'Course',\r\n//   endpoints: true\r\n// }) class Course {\r\n//   @ActiveModelSerializer(serializer)\r\n//   @Include('Author')\r\n//   index\r\n//   // new\r\n//   @ActiveModelSerializer\r\n//   create\r\n//\r\n//   show\r\n//   // edit\r\n//   update\r\n//   destroy\r\n// }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/courses/course.controller.js","export default function({\r\n  Model, Uuid, Enum, Str, Text, Bool, Int, BigInt, Float, Real, Dbl, Dec, hasOne, belongsTo, hasMany, belongsToMany\r\n}){\r\n  return @Model class Course {\r\n    @Uuid({\r\n      primaryKey : true\r\n    }) id\r\n    @Str title\r\n    @Str slug\r\n    @Text description\r\n    @Str video\r\n    @Str image\r\n    @Enum({\r\n      values: [ 'default', 'yellow', 'orange', 'red', 'violet', 'green', 'cyan', 'blue' ],\r\n      defaultValue: 'default'\r\n    }) color\r\n    @Enum({\r\n      values: [ 'Beginner', 'Intermediate', 'Advanced' ],\r\n      defaultValue: 'Beginner'\r\n    }) level\r\n    @Bool({\r\n      defaultValue : false\r\n    }) active\r\n\r\n    @belongsTo({type: 'User'}) Author\r\n    @hasMany Lession\r\n  }\r\n  // return db.define('course', {\r\n  //   id : {\r\n  //     type: Q.UUID,\r\n  //     primaryKey: true,\r\n  //     defaultValue : Q.UUIDV1\r\n  //   },\r\n  //   title : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   slug : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   description : {\r\n  //     type: Q.TEXT\r\n  //   },\r\n  //   video : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   image : {\r\n  //     type: Q.STRING\r\n  //   },\n  //   color : {\r\n  //     type: Q.ENUM,\r\n  //     values: [ 'default', 'yellow', 'orange', 'red', 'violet', 'green', 'cyan', 'blue' ],\r\n  //     defaultValue: 'default'\r\n  //   },\r\n  //   level : {\r\n  //     type: Q.ENUM,\r\n  //     values : [ 'Beginner', 'Intermediate', 'Advanced' ],\r\n  //     defaultValue: 'Beginner'\r\n  //   },\r\n  //   active : {\r\n  //     type : Q.BOOLEAN,\r\n  //     defaultValue : false\r\n  //   }\r\n  // })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/courses/course.model.js","export default function({schemas: { User, Course, Lession }}){\r\n  Course.Author = Course.belongsTo(User, {as: 'author'})\t\t// owner (lecturer)\r\n\t// Course.Student = Course.belongsToMany(User, { through: User })\t// students\r\n  Course.Lession = Course.hasMany(Lession)\r\n}\r\n\r\n// let schema = schemas[target.name];\r\n// let relation = schemas[options && options.type || property]\r\n// schema[property] = schema[relation](relation, map())\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/courses/course.relations.js","import $ from 'moduler'\r\n\r\nimport Course from './course.model'\r\nimport CourseRelations from './course.relations'\r\nimport CourseCtrl from './course.controller'\r\n// import CourseRoutes from './course.routes'\r\n\r\n\r\n$.module('courses', function($){\r\n\r\n\t$.config('color', [ 'default', 'yellow', 'orange', 'red', 'violet', 'green', 'cyan', 'blue' ])\r\n\t$.config('level', [ 'Beginner', 'Intermediate', 'Advanced' ])\r\n\t$.model('Course', Course)\r\n\t// $.relation('Course', CourseRelations)\r\n\t$.controller({CourseCtrl})\r\n\r\n\t// @belongsTo({model: User}) Author\r\n\t// Course.Author = Course.belongsTo(User, {as: 'Author'})\r\n\r\n\r\n\t// @hasMany Lession\r\n\t// Course.Lession = Course.hasMany(Lession)\r\n\r\n\t// $.route({CourseRoutes}) \t\t// => this should be removed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// instead, user code snipped below\r\n\r\n\t$.resolver('courses', function({\r\n\t\tapi,\r\n\t\tattach,\r\n\t\tserver,\r\n\t\tcontrollers :  { CourseCtrl }\r\n\t}){\r\n\r\n\t\tattach('/courses', CourseCtrl.index)\r\n\t\tattach('/course/:slug', CourseCtrl.edit)\r\n\r\n\t\tapi.get('/courses', CourseCtrl.index)\r\n\t  api.get('/course/:slug', CourseCtrl.edit)\r\n\t  api.get('/course/new', CourseCtrl.new)\r\n\r\n\t\tserver\r\n\t\t\t.get('/course/new', CourseCtrl.new)\r\n\t\t\t.get('/course/install', CourseCtrl.install)\r\n\r\n\t})\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/courses/module.js","export default function LessionCtrl({ schemas: { Lession }}){\r\n  this.relations.Lession\r\n  return {\r\n    index : function($){\r\n      Lession\r\n        .findAll()\r\n        .then(lession => {\r\n          $.data.message = 'Hello World!!!!'\r\n          $.data.lession = lession\r\n          $.data.body = $.body\r\n          $.json()\r\n      })\r\n    },\r\n    new : function($){\r\n      var lession = Lession.build($.query)\r\n      $.data.msg = $.query\r\n      lession.save()\r\n      $.json()\r\n    },\r\n    install : function($){\r\n      Lession.sync({force: true})\r\n      $.data.msg = {installed: 'lession table'}\r\n      $.json()\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/lessions/lession.controller.js","export default function({\r\n  Model, Uuid, Enum, Str, Text, Bool, Int, BigInt, Float, Real, Dbl, Dec, hasOne, belongsTo, hasMany, belongsToMany\r\n}){\r\n  return @Model class Lession {\r\n    @Uuid id\r\n    @Str title\r\n    @Str slug\r\n    @Text description\r\n    @Str video\r\n    @Str image\r\n    @Int grade\r\n    @Bool complete\r\n\r\n    @belongsTo Course\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/lessions/lession.model.js","export default function({schemas: { Lession, User, Course, LessionUser }}){\r\n\tLession.belongsTo(Course)\r\n  // Lession.belongsToMany(User)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/lessions/lession.relations.js","import $ from 'moduler'\r\n\r\nimport Lession from './lession.model'\r\nimport LessionRelations from './lession.relations'\r\nimport LessionCtrl from './lession.controller'\r\n// import LessionRoutes from './lession.routes'\r\n\r\n$.module('lessions', function($){\r\n\t$.model({Lession})\r\n\t// $.relation({Lession:LessionRelations})\r\n\t$.controller({LessionCtrl})\r\n\t// $.route({LessionRoutes})\r\n\t$.resolver({lessions: function({\r\n\t\tserver,\r\n\t\tcontrollers : { LessionCtrl }\r\n\t}){\r\n\t\t  server\r\n\t\t    .get('/lessions', LessionCtrl.index)\r\n\t\t    .get('/lession/new', LessionCtrl.new)\r\n\t\t    .get('/lession/install', LessionCtrl.install)\r\n\t\t}\r\n\t})\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/lessions/module.js","import $ from 'moduler'\r\nexport default function({Q, db}){\r\n\r\n  const removeEmptyKeys = (o) => {\r\n    let newObj = {};\r\n    Object.keys(o).forEach(key => {\r\n      let val = o[key];\r\n      if( val != null){\r\n        newObj[key] = val\r\n      }\r\n    })\r\n    return newObj\r\n  }\r\n\r\n  function propertyDecorator(fn){\r\n    return function(...params) {\r\n      let descriptor = params[params.length - 1]\r\n      if (\r\n        params.length === 3\r\n        && typeof descriptor === 'object'\r\n        && descriptor.hasOwnProperty('enumerable')\r\n        && descriptor.hasOwnProperty('initializer')\r\n        && descriptor.hasOwnProperty('configurable')\r\n      )\r\n      {\r\n        return fn([], ...params)\r\n      } else {\r\n        return fn.bind(null, params)\r\n      }\r\n    }\r\n  }\r\n\r\n  function emptyDecorator(...params){\r\n    let descriptor = params[params.length - 1]\r\n    if (\r\n      params.length === 3\r\n      && typeof descriptor === 'object'\r\n      && descriptor.hasOwnProperty('enumerable')\r\n      && descriptor.hasOwnProperty('initializer')\r\n      && descriptor.hasOwnProperty('configurable')\r\n    ) {\r\n      return null\r\n    } else {\r\n      return function(target, property, descriptor){\r\n        descriptor.initializer = () => null\r\n      }\r\n    }\r\n  }\r\n\r\n  const sequalizeClassAttributeDecorator = (target) => {\r\n    // console.log({name: (target.name), target})\r\n    return db.define($.str.kebab(target.name), removeEmptyKeys(new target))\r\n  }\r\n\r\n  const dataType = (type, defaultOptions) => ([options], target, property, descriptor) => {\r\n    descriptor.initializer = () => Object.assign({}, defaultOptions, options, {type})\r\n    return descriptor\r\n  }\r\n\r\n  // const courseSerializer = new $.jsonapi('course', {\r\n  //     attributes: ['id','title','slug','description','video','image','color','level','author'],\r\n  //     get author() {\r\n  //       return {\r\n  //         ref: 'id',\r\n  //         attributes: ['id', 'username', 'email', 'firstName', 'lastName', 'image', 'description']\r\n  //       }\r\n  //     }\r\n  // })\r\n  //\r\n\r\n  const serializerDecoratorsTemplate = (function(store = {}){\r\n    return {\r\n      model: (target) => {\r\n        let schema = store[target.name] = removeEmptyKeys(new target)\r\n        console.log({name: target.name, schema, jsonapi:$.jsonapi})\r\n        return () => new $.jsonapi($.str.kebab(target.name), schema)\r\n      },\r\n      attribute: (isRelation, isUuid) => propertyDecorator(([options], target, property, descriptor) => {\r\n        descriptor.initializer = function(){\r\n          this.attributes = this.attributes || []\r\n          this.attributes.push($.str.kebab(property))\r\n          if (isRelation) {\r\n            Object.defineProperty(this, $.str.kebab(property), {\r\n              get: () => store[property],\r\n              enumerable: true\r\n            })\r\n          }\r\n          if (isUuid) {\r\n            this.rel = property\r\n          }\r\n        }\r\n      })\r\n    }\r\n  })()\r\n\r\n  // const serializerDecorator =\r\n\r\n  const serializerAttributeDecorator = serializerDecoratorsTemplate.attribute(false)\r\n  const serializerRelationDecorator = serializerDecoratorsTemplate.attribute(false)\r\n  const serializerUuidDecorator = serializerDecoratorsTemplate.attribute(false, true)\r\n\r\n  let relationType = (type) => ([options = {}], target, property, descriptor) => {\r\n    descriptor.initializer = function(){\r\n      let schema = $.schemas[target.constructor.name]\r\n      let relation\r\n      if(options.type){\r\n        options.as = $.str.kebab(property)\r\n        relation = $.schemas[options.type]\r\n        delete options.type\r\n      } else {\r\n        relation = $.schemas[property]\r\n      }\r\n      // console.log(`\\n\\n\\n\\n\\n${schema.name}.${property} = ${schema}.${type}(${relation.name}\\n\\n\\n\\n\\n`, options)\r\n      schema[property] = schema[type](relation, options)\r\n    }\r\n  }\r\n  // let serializerRelationDecorator = propertyDecorator(([options], target, property, descriptor) => {\r\n  //\r\n  // })\r\n\r\n  let sequalizeAttributeDecorator = (type, defaultValue ) => propertyDecorator(dataType(type, defaultValue))\r\n  let sequalizeRelationDecorator = (type) => propertyDecorator(relationType(type))\r\n\r\n  // let attr = (target, property, descriptor) => {\r\n  //   descriptor.initializer = function(){\r\n  //     this.attributes = this.attributes || []\r\n  //     this.attributes.push(property)\r\n  //     return target.name;\r\n  //   }\r\n  //   return descriptor\r\n  // }\r\n  //\r\n\r\n  let serializerDecorators = {\r\n    Model: serializerDecoratorsTemplate.model,\r\n    Enum: serializerAttributeDecorator,\r\n    Uuid: serializerUuidDecorator,\r\n    Str: serializerAttributeDecorator,\r\n    BinaryStr: serializerAttributeDecorator,\r\n    Text: serializerAttributeDecorator,\r\n    Bool: serializerAttributeDecorator,\r\n    Int: serializerAttributeDecorator,\r\n    BigInt: serializerAttributeDecorator,\r\n    Float: serializerAttributeDecorator,\r\n    Real: serializerAttributeDecorator,\r\n    Dbl: serializerAttributeDecorator,\r\n    Dec: serializerAttributeDecorator,\r\n    hasOne: serializerRelationDecorator,\r\n    belongsTo: serializerRelationDecorator,\r\n    hasMany: serializerRelationDecorator,\r\n    belongsToMany: serializerRelationDecorator,\r\n    Scope: emptyDecorator\r\n  }\r\n\r\n  let sequelizeAttributeDecorators = {\r\n    Model: sequalizeClassAttributeDecorator,\r\n    Enum: sequalizeAttributeDecorator(Q.ENUM),\r\n    Uuid: sequalizeAttributeDecorator(Q.UUID, {\r\n      primaryKey: true,\r\n      defaultValue : Q.UUIDV1\r\n    }),\r\n    Str: sequalizeAttributeDecorator(Q.STRING),\r\n    BinaryStr: sequalizeAttributeDecorator(Q.STRING.BINARY),\r\n    Text: sequalizeAttributeDecorator(Q.TEXT),\r\n    Bool: sequalizeAttributeDecorator(Q.BOOLEAN),\r\n    Int: sequalizeAttributeDecorator(Q.INTEGER),\r\n    BigInt: sequalizeAttributeDecorator(Q.BIGINT),\r\n    Float: sequalizeAttributeDecorator(Q.FLOAT),\r\n    Real: sequalizeAttributeDecorator(Q.REAL),\r\n    Dbl: sequalizeAttributeDecorator(Q.DOUBLE),\r\n    Dec: sequalizeAttributeDecorator(Q.DECIMAL),\r\n    hasOne: emptyDecorator,\r\n    belongsTo: emptyDecorator,\r\n    hasMany: emptyDecorator,\r\n    belongsToMany: emptyDecorator,\r\n    Scope: emptyDecorator\r\n  }\r\n\r\n  const sequelizeRelationshipDecorators = {\r\n    // Model\r\n    Model: x => new x,\r\n    Enum: emptyDecorator,\r\n    Uuid: emptyDecorator,\r\n    Str: emptyDecorator,\r\n    BinaryStr: emptyDecorator,\r\n    Text: emptyDecorator,\r\n    Bool: emptyDecorator,\r\n    Int: emptyDecorator,\r\n    BigInt: emptyDecorator,\r\n    Float: emptyDecorator,\r\n    Real: emptyDecorator,\r\n    Dbl: emptyDecorator,\r\n    Dec: emptyDecorator,\r\n    hasOne: sequalizeRelationDecorator('hasOne'),\r\n    belongsTo: sequalizeRelationDecorator('belongsTo'),\r\n    hasMany: sequalizeRelationDecorator('hasMany'),\r\n    belongsToMany: sequalizeRelationDecorator('belongsToMany'),\r\n    Scope: emptyDecorator\r\n  }\r\n\r\n  // let serializer = {\r\n  //   Uuid: dataDecorator('UUID'),\r\n  //   Str: dataDecorator('STRING'),\r\n  // BinaryStr: dataDecorator('STRING'),\r\n  //   Text: dataDecorator('TEXT'),\r\n  //   Bool: dataDecorator(\"BOOLEAN\"),\r\n  //   Int: dataDecorator('INTEGER'),\r\n  //   BigInt: dataDecorator('BIGINT'),\r\n  //   Float: dataDecorator('FLOAT'),\r\n  //   Real: dataDecorator('REAL'),\r\n  //   Dbl: dataDecorator('DOUBLE'),\r\n  //   Dec: dataDecorator('DECIMAL')\r\n  // }\r\n\r\n\r\n  // let belongsTo = propertyDecorator(([options], target, prop, descriptor) => {\r\n  //   descriptor.initializer = () => i\r\n  //   let i = {}\r\n  //   let t = i.model = target.name // let t = $.model[target.name]\r\n  //   if(!options){\r\n  //     let r = i.target = prop // $.model[prop]\r\n  //     // t[prop] = t.belongsTo(r)\r\n  //     i.option = 'belongsTo'\r\n  //   } else {\r\n  //     let alias = options.useModel\r\n  //     if(alias){\r\n  //       options.as = prop\r\n  //       delete options.useModel\r\n  //     }\r\n  //     let r = i.target = alias || prop\r\n  //     // r = i.target = $.model[alias || prop]\r\n  //     options.relation = 'belongsTo'\r\n  //     i.options = options\r\n  //   }\r\n  // })\r\n\r\n  let { Model, Uuid, Str, Text, Enum, Bool, hasOne } = sequelizeAttributeDecorators\r\n\r\n  // class Course {\r\n  //   @Uuid({\r\n  //     primaryKey : true\r\n  //   }) id\r\n  //   @Str() title\r\n  //   @Str() slug\r\n  //   @Text() description\r\n  //   @Str() video\r\n  //   @Str() image\r\n  //   @Enum({\r\n  //     values: [ 'default', 'yellow', 'orange', 'red', 'violet', 'green', 'cyan', 'blue' ],\r\n  //     defaultValue: 'default'\r\n  //   }) color\r\n  //   @Enum({\r\n  //     values: [ 'Beginner', 'Intermediate', 'Advanced' ],\r\n  //     defaultValue: 'Beginner'\r\n  //   }) level\r\n  //   @Bool({\r\n  //     defaultValue : false\r\n  //   }) active\r\n  //   @hasOne one\r\n  //   @hasOne({two: 2}) two\r\n  // }\r\n  // const nc = new Course\r\n  //\r\n  // let valid = {\r\n  //   id : {\r\n  //     type: Q.UUID,\r\n  //     primaryKey: true,\r\n  //     defaultValue : Q.UUIDV1\r\n  //   },\r\n  //   title : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   slug : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   description : {\r\n  //     type: Q.TEXT\r\n  //   },\r\n  //   video : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   image : {\r\n  //     type: Q.STRING\r\n  //   },\r\n  //   color : {\r\n  //     type: Q.ENUM,\r\n  //     values: [ 'default', 'yellow', 'orange', 'red', 'violet', 'green', 'cyan', 'blue' ],\r\n  //     defaultValue: 'default'\r\n  //   },\r\n  //   level : {\r\n  //     type: Q.ENUM,\r\n  //     values : [ 'Beginner', 'Intermediate', 'Advanced' ],\r\n  //     defaultValue: 'Beginner'\r\n  //   },\r\n  //   active : {\r\n  //     type : Q.BOOLEAN,\r\n  //     defaultValue : false\r\n  //   }\r\n  // }\r\n  // $.config('Course', {nc, valid: Object.assign({}, valid)})\r\n\r\n  // ( function({\r\n  //   Model, Uuid, Str, Text, Enum, Bool, belongsTo, hasMany\r\n  // }){\r\n  //   let Course = @Model class {\r\n  //     // @Uuid({\r\n  //     //   primaryKey : true\r\n  //     // }) id\r\n  //     // @Str title\r\n  //     // @Str slug\r\n  //     // @Text description\r\n  //     // @Str video\r\n  //     // @Str image\r\n  //     // @Enum({\r\n  //     //   values: [ 'default', 'yellow', 'orange', 'red', 'violet', 'green', 'cyan', 'blue' ],\r\n  //     //   defaultValue: 'default'\r\n  //     // }) color\r\n  //     // @Enum({\r\n  //     //   values : [ 'Beginner', 'Intermediate', 'Advanced' ],\r\n  //     //   defaultValue: 'Beginner'\r\n  //     // }) level\r\n  //     // @Bool({\r\n  //     //   defaultValue : false\r\n  //     // }) active\r\n  //     // // @belongsTo({\r\n  //     // //   type: 'User'\r\n  //     // // }) Author\r\n  //     // // @hasMany Lession\r\n  //   }\r\n  //   $.config('Course', Course);\r\n  // })(sequelizeAttributeDecorators)\r\n\r\n  // @Float(11, 12)\r\n  // TestFloat\r\n  return {\r\n    sequelizeAttributeDecorators,\r\n    sequelizeRelationshipDecorators,\r\n    serializerDecorators\r\n  }\r\n}\r\n\r\n// function Model (target) {\r\n//   target.qwertyb='bsd'\r\n//   return function(...args) {\r\n//     target.qwerty='asd'\r\n//     return {\r\n//       wrappedValue: new target(...args)\r\n//     }\r\n//   }\r\n// }\r\n//\r\n\r\n// let attr = (target, property, descriptor) => {\r\n//   // target.attr = target.attr || []\r\n//   // target.attr.push(property)\r\n//   console.log('TARGET', {target})\r\n//   descriptor.initializer = function(){\r\n//     console.log('TARGET2', {target, self: this})\r\n//     this.attr = this.attr || []\r\n//     this.attr.push(property)\r\n//     return target.name;\r\n//   }\r\n//   return descriptor\r\n// }\r\n\r\n// function Enum(target, prop, descriptor){\r\n//   target.prototype[prop] = 'Enum'\r\n//   return function()\r\n// }\r\n\r\n// let Number = propertyDecorator((options, target, prop, descriptor) => {\r\n//   if(!options) {\r\n//     descriptor.initializer = () => 'Number'\r\n//   } else {\r\n//     options.type = 'Number'\r\n//     descriptor.initializer = () => options\r\n//   }\r\n//   return descriptor\r\n// })\r\n//\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/utils/decorators.js","const KEBAB_REGEX = /[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE]/g;\r\n\r\nexport default function kebabCase(str) {\r\n\treturn (str.charAt(0).toLowerCase() + str.slice(1)).replace(KEBAB_REGEX, function (match) {\r\n\t\treturn '-' + match.toLowerCase();\r\n\t});\r\n};\r\n// const REVERSE_REGEX = /-[a-z\\u00E0-\\u00F6\\u00F8-\\u00FE]/g;\r\n// export function reverse(str) {\r\n// \treturn str.replace(REVERSE_REGEX, function (match) {\r\n// \t\treturn match.slice(1).toUpperCase();\r\n// \t});\r\n// };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/utils/kebab.js","export default function(st){\r\n  st = st.toLowerCase()\r\n  st = st.replace(/[\\u00C0-\\u00C5]/ig,'a');\r\n  st = st.replace(/[\\u00C8-\\u00CB]/ig,'e');\r\n  st = st.replace(/[\\u00CC-\\u00CF]/ig,'i');\r\n  st = st.replace(/[\\u00D2-\\u00D6]/ig,'o');\r\n  st = st.replace(/[\\u00D9-\\u00DC]/ig,'u');\r\n  st = st.replace(/[\\u00D1]/ig,'n');\r\n  st = st.replace(/[\\-]/g,' ');\r\n  // st = st.replace(/[^a-z0-9 ]+/gi,'')\r\n  st = st.trim().replace(/ /g,'-');\r\n  st = st.replace(/[\\-]{2,}/g,'-');\r\n  st = st.replace(/^[^a-z]+/g,'');\r\n  return (st.replace(/[^a-z0-9\\- ]*/gi,''));\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/utils/slugify.js","import $ from 'moduler'\r\nimport slugify from './slugify'\r\nimport kebab from './kebab'\r\nimport decorators from './decorators'\r\n\r\n$.config('str', {\r\n  slugify, kebab\r\n})\r\n\r\n$.module('utils', function(){\r\n  $.config('decorators', decorators($))\r\n})\r\n// $.modules('decorators')\r\n// $.config('decorators', decorators)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/utils/utils.module.js","  // Create an app\r\n    const app = require('moduler')\r\n    const SQL = require('sequelize')\r\n    const diet = require('diet')\r\n    require('mithril/test-utils/browserMock')(global);\r\n    const m = require('mithril')\r\n    const render = require('mithril-node-render')\r\n    const crossOrigin = require('diet-cross-origin')\r\n    const dietStatic = require('diet-static')\r\n    const r = require('ramda')\r\n    const jsonapi = require('jsonapi-serializer').Serializer\r\n    app.config('jsonapi', jsonapi)\r\n\r\n    var fs = require('fs')\r\n    // app.module('a', function(){})\r\n    // app.module({'b' : function(){}})\r\n\r\n    const baseTemplate = fs.readFileSync('./bin/index.html', 'utf8')\r\n\r\n    import './templates/module'\r\n    import './view-models/module'\r\n    import './modules'\r\n\r\n    const server = diet()\r\n    server.header(crossOrigin({\r\n      defaults: {\r\n        origin: '*',\r\n        credentials: true\r\n      }\r\n    }))\r\n\r\n    const staticFiles = dietStatic({ path: server.path+'/../bin' })\r\n    // console.log('SERVER PATH', server.path)\r\n    server.listen('http://localhost:8000')\r\n    server.footer(staticFiles)\r\n\r\n    const db = new SQL('postgres', 'postgres', 'qwerty', {\r\n      host: 'localhost',\r\n      dialect: 'postgres',\r\n\r\n      pool: {\r\n        max: 5,\r\n        min: 0,\r\n        idle: 10000\r\n      }\r\n    })\r\n\r\n    db.authenticate()\r\n\r\n    app\r\n      .config('server', server)\r\n      .config('Q', SQL)\r\n      .config('db', db)\r\n      .config('_', r)\r\n\r\n    // const courseSerializer = new jsonapi('course', {\r\n    //     ref: 'id',\r\n    //     attributes: ['id','title','slug','description','video','image','color','level','author'],\r\n    //     get author() {\r\n    //       return {\r\n    //         ref: 'id',\r\n    //         attributes: ['id', 'username', 'email', 'firstName', 'lastName', 'image', 'description']\r\n    //       }\r\n    //     }\r\n    // })\r\n    //\r\n      // .register('author', {\r\n      //   relationships: {\r\n      //     course: {\r\n      //       type: '<course></course>'\r\n      //     }\r\n      //   }\r\n      // })\r\n\n    // app.module('setup', function($){\r\n\r\n    app.config('m', m)\r\n    app.config('baseTemplate', baseTemplate)\r\n\r\n    const components = app.store()\r\n\r\n    app.config('component', components.getOrSet)\r\n    app.config('components', components.getAll)\r\n\r\n    const schemas = app.store()\r\n    app.config('schema', schemas.getOrSet)\r\n    app.config('schemas', schemas.getAll)\r\n    const relations = app.store()\r\n    app.config('relation', relations.getOrSet)\r\n    app.config('relations', relations.getAll)\r\n    const serializers = app.store()\r\n    app.config('serializer', serializers.getOrSet)\r\n    app.config('serializers', serializers.getAll)\r\n\r\n    const models = {}\r\n\r\n    const model = ((store = {}) => (nameOrBoth, maybeModel) => {\r\n      let name, model\r\n      const hasSeparateModel = typeof maybeModel === 'function'\r\n      if(hasSeparateModel && typeof nameOrBoth === 'string'){\r\n        name = nameOrBoth\r\n        model = maybeModel\r\n      } else if (typeof nameOrBoth === 'object'){\r\n        name = Object.keys(nameOrBoth)[0],\r\n        model = nameOrBoth[name]\r\n      }\r\n      // console.log(`REGISTER MODEL ${name}`)\r\n      // console.log(app.decorators.sequelizeAttributeDecorators)\r\n      app.schema(name, () => model(app.decorators.sequelizeAttributeDecorators))\r\n\r\n      Object.defineProperty(store, name, {\r\n        get: () => {\r\n          let schema = app.schemas[name]\r\n          // init relationships\r\n          model(app.decorators.sequelizeRelationshipDecorators)\r\n          schema.defaultSerializer = model(app.decorators.serializerDecorators)\r\n          return schema\r\n        }\r\n      })\r\n    }) (models)\r\n    // const models = ()\r\n    app.config('model', model)\r\n    app.config('models', models)\r\n    const controllers = app.store()\r\n    app.config('controller', controllers.getOrSet)\r\n    app.config('controllers', controllers.getAll)\r\n    const resolver = app.store()\r\n\r\n    app.config('resolver', resolver.getOrSet)\r\n    app.config('resolve', resolver.getAll)\r\n\r\n    app.config('group', function(route, fn){\r\n      var instance = this\r\n      var newInstance = Object.create(this);\r\n      Object.defineProperty(newInstance, 'route', {\r\n        get : ()=> (instance.route || \"\") + route\r\n      })\r\n      fn.call(newInstance, newInstance)\r\n    })\r\n\r\n    const serializer = (options) => (data) => {\n      if (options.with) {\n        data = options.with.reduce( (obj, prop) => {\n          obj[prop] = data[prop]\n          return obj\n        }, {})\n      }\n      if (options.without) {\n        options.without.forEach( prop => {\n          if (data[prop]) {\n            delete data[prop]\n          }\n        })\n      }\n\t    return data\n    }\n\n    const publicUser = serializer({\n      without : [ 'password' ],\n      with: [\n        'id',\n        'username',\n        'firstName',\n        'lastName',\n        'description',\n      ]\n    })\n\n    const api = (options = {}) => {\n      let config = {\n        route: options.route\n      }\n      let dataHandler = ($, data) => {\n        // $.data.data = data;\n        console.log(\"NAME\", data.constructor.name)\n        $.data = data || app.serializers.Course().serialize(data)\n        $.json()\n      }\n      let json = controller => ($) => {\n        // fetchData  then  handleData\n        controller($).then( dataHandler.bind(null, $) )\n      }\n      api.method = (method) => (route, controller) => server[method](options.route + route, json(controller))\n      return {\n        get: api.method('get'),\n        post: api.method('post'),\n        put: api.method('put'),\n        delete: api.method('delete'),\n        patch: api.method('patch')\n      }\n    }\n\r\n    let routes = app.store()\r\n    // app.config('route', function(route, view){\r\n    //   routes.getOrSet(this.route || \"\" + route, view)\r\n    // })\r\n    app.config('route', routes.getOrSet)\r\n    app.config('routes', routes.getAll)\r\n\r\n    app.config('api', api({\r\n      route: '/api'\r\n    }))\r\n\r\n    app.config('view', (component, controller) => ($) => {\r\n      return controller($).then(\r\n        (data) => render(\r\n          m(component, {data})\r\n        )\r\n        .then((t) => {\r\n          $.header('content-type', 'text/html')\r\n          $.send(baseTemplate.replace('<!--body-->', t))\r\n          $.end()\r\n        })\r\n      )\r\n    })\r\n\r\n    app.config('json', controller => ($) => {\r\n      controller($).then(\r\n      (data) => {\r\n        $.data.data = data\r\n        $.json()\r\n      })\r\n    })\r\n\r\n    app.config('attach', (routeName, controller) => {\r\n      server.get(routeName, app.view(app.routes[routeName], controller))\r\n      server.post(routeName, app.json(controller))\r\n    })\r\n\r\n    app.config('chain', function(){\r\n\t    return (init) => Array.prototype.reduce.call(arguments, (acc, x) => acc && acc.then ? acc.then(x) : x(acc), init)\r\n    })\r\n\r\n    app.modules()\r\n    app.run(function({utils, server, resolve}) {\r\n      resolve()\r\n\r\n      server.get('/', ($) => {\r\n        // $.data.message = 'Hello World!!!!'\r\n        // $.data.context = this.constructor.name\r\n        // $.data.r = Object.getOwnPropertyNames(routes)\r\n        // $.data.app = app.constructor.name\r\n        render(m('div.asd.asd')).then((t) => {\r\n          // $.data.template = t\r\n          $.data.class = app.Course\r\n          $.json()\r\n        })\r\n      })\r\n    })\r\n\r\n      // .run(['schemas'], ($, schemas) => {\r\n      //   $.run()\r\n      // })\r\n\r\n      // .then(() => {\r\n      //   console.log('Connection has been established successfully.')\r\n      // })\r\n      // .catch(err => {\r\n      //   console.error('Unable to connect to the database:', err)\r\n      // })\r\n\r\n\r\n// force: true will drop the table if it already exists\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/server.js","export default function({m}){\r\n  return {\r\n    view: function(vnode) {\r\n      return m(\r\n        '.container', [\r\n          m(\r\n            'h1.punchline', vnode.attrs.title\r\n          ),\r\n          m('.row', vnode.children)\r\n        ]\r\n      )\r\n    }\r\n  }\r\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/content.component.js","export default function({\r\n  _, m, slugify,\n  components : { Topbar, Content, CourseItem }\r\n}){\r\n  var xetter = (state) => (prop, xettings) => (value) => {\r\n    if(value != null){\r\n      state[prop] = value\r\n    }\r\n    return state[prop]\r\n  }\r\n  var model = _.once((data) => {\r\n    let x = xetter(data)\r\n    return {\r\n        title: x('title'),\r\n        slug: x('slug', {\r\n          // set: [ slugify ],\r\n          // get: [ ( state ) => state.slug || slugify( state.title() ) ]\r\n        }),\r\n        description: x('description'),\r\n        num: x('num')\r\n    }\r\n  })\r\n  var stateModel = _.once((data) => {\n    console.log(data)\n    let state = {\r\n      $: {\r\n        colors: ['Red', 'Orange', 'Blue'],\r\n        levels: ['Beginner', 'Intermediate', 'Advanced']\r\n      },\r\n      $$: {\r\n        title: function(v) {\r\n          state.title = v\r\n        },\r\n        slug: function(v) {\r\n          state.customSlug = slugify(v)\r\n        },\r\n        description: function(v) {\r\n          state.description = v\r\n        },\r\n        num: function(v) {\r\n          console.log([v])\r\n          state.num = v\r\n        }\r\n      },\r\n      title: data.title,\n      customSlug: data.slug,\r\n      description: data.description,\r\n      num: null\r\n    }\n    Object.defineProperty(state, 'slug', {\r\n      get: () => state.customSlug || slugify(state.title)\r\n    })\n    return state\r\n  })\n  return {\n    view: function(vnode) {\n      let item2 = stateModel(vnode.attrs.data);\r\n      let item = model(vnode.attrs.data);\r\n      return m('div', [\r\n        m(Topbar),\r\n        m(Content, {\r\n            title: \"Edit course\"\r\n          }, [\r\n          m('#main-panel.col-md-9', [\r\n            m('input[type=\"text\"].form-control.form-control-lg[id=\"title\"][name=\"title\"][aria-describedby=\"couseTitle\"][placeholder=\"Title\"]', {\r\n              value: item.title(),\r\n              oninput: m.withAttr(\"value\", item.title)\r\n            }),\r\n            m('small#couseTitle.form-text.text-muted', \"We'll never share your email with anyone else.\"),\r\n            m('input[type=\"text\"].form-control.form-control-sm', {\r\n              value: item.slug(),\r\n              onchange: m.withAttr(\"value\", item.slug)\r\n            }),\r\n            m('.form-section-meta', [\r\n              m('.form-group', [\r\n                m('label[for=\"description\"]', 'Description'),\r\n                m('textarea#description.form-control[name=\"description\"]', {\r\n                  value: item.description(),\n                  oninput: m.withAttr(\"value\", item.description)\n                }),\n              ]),\n              m('.row',[\r\n                m('.col-md-4',\r\n                  m('select.form-control', item2.$.levels.map((items)=>m('option', items)))\r\n                ),\r\n                m('.col-md-4',\r\n                  m('select.form-control', item2.$.colors.map((items)=>m('option', items)))\r\n                ),\r\n                m('.col-md-4',\n                  m('input[type=\"text\"].form-control', {\n                    value: item.num(),\n                    oninput: m.withAttr(\"value\", item.num)\n                  })\n                )\r\n              ])\r\n            ]),\r\n            m('a.btn.btn-primary.btn-lg[href=\"/courses\"]', {\r\n              oncreate: m.route.link\r\n            }, 'Click here!!!!')\r\n          ]),\r\n          m('#side-panel.col-md-3', [\r\n            m( '.buttons', [\r\n              m('.btn.btn-primary.btn-alt.btn-lg',  \"Save\"),\r\n              m('.btn.btn-primary.btn-lg',  \"Unpublish\")\r\n            ]),\r\n            m( CourseItem, vnode.attrs.data )\r\n          ])\r\n        ])\r\n      ])\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/course-edit.template.js","import './course-item.less'\r\nexport default function({m}){\r\n  return {\r\n    view: function({attrs, children}) {\r\n      return m(\r\n        '.course', [m(\r\n          'a.thumb', {\r\n            bg: attrs.color,\r\n            href:'/course/' + attrs.slug,\r\n            oncreate: m.route.link\r\n          }, [\r\n            m(\".thumb-img\", {\r\n              bg : attrs.color,\r\n              style : {\r\n                backgroundImage : `url(/uploads/courses/${attrs.image})`\r\n              }\r\n            }),\r\n            m(\"h2.name\",\r\n              m(\"span\", attrs.title)\r\n            )\r\n          ]\r\n        ),\r\n        m(\r\n          '.inner', m(\r\n            'ul', [\r\n              m(\r\n                \"li.description\",\r\n                attrs.description\r\n              ),\r\n              m(\r\n                \"li.author\",\r\n                ['by ', m(\r\n                  'a', { href : attrs.author.id },`${attrs.author.firstName} ${attrs.author.lastName}`\r\n                )]\r\n              ),\r\n              m(\r\n                \"li.level\",\r\n                `Level: ${attrs.level}`\r\n              )\r\n          ])\r\n        )\r\n      ])\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/course-item.component.js","export default function({\r\n  m, components : { Topbar, Content, CourseItem }\r\n}){\r\n  return {\n    view: function(vnode) {\r\n      console.log(vnode.attrs);\r\n      return m('div', [\r\n        m(Topbar),\r\n        m(\r\n          Content, {\r\n            title: \"Browse our courses...\"\r\n          },\r\n          vnode.attrs.data.map(\r\n            ( course ) => m(\r\n              '.col-sm-6.col-md-4.col-lg-3',\r\n              m( CourseItem, course )\r\n            )\r\n          )\r\n        )\r\n      ])\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/courses.template.js","import './topbar.less'\r\nexport default function({m}){\r\n  return {\r\n    view: function() {\r\n      return m(\"header#header\",\r\n        m(\"div.container\",\r\n          m(\"div.row\", [\r\n            m(\"div.col-sm-3.logo\",\r\n              m(\"a#logo\", {href:\"/\"})\r\n            ),\r\n            m(\"div.col-sm-9.navigation\",\r\n              m(\"nav\", {role: \"navigation\"},\r\n                m(\"ul.menu\",\r\n                  m(\"li.nav-item\",\r\n                    m('a', {href : \"/signin\"}, 'Login')\r\n                  ),\r\n                  m(\"li.nav-item\",\n                    m('a', {href : \"/signup\"}, 'Sign up')\n                  )\r\n                )\r\n              )\r\n            )\r\n          ])\r\n        )\r\n      )\r\n    }\r\n  }\r\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/topbar.component.js","export default function({\r\n  _, m, str,\n  components : { Topbar, Content, CourseItem }\r\n}){\r\n  var xetter = (state) => (prop, xettings) => (value) => {\r\n    if(value != null){\r\n      state[prop] = value\r\n    }\r\n    return state[prop]\r\n  }\r\n  var model = _.once((data) => {\r\n    let x = xetter(data)\r\n    return {\r\n        title: x('title'),\r\n        slug: x('slug', {\r\n          // set: [ str.slugify ],\r\n          // get: [ ( state ) => state.slug || str.slugify( state.title() ) ]\r\n        }),\r\n        description: x('description'),\r\n        num: x('num')\r\n    }\r\n  })\r\n  var stateModel = _.once((data) => {\n    console.log(data)\n    let state = {\r\n      $: {\r\n        colors: ['Red', 'Orange', 'Blue'],\r\n        levels: ['Beginner', 'Intermediate', 'Advanced']\r\n      },\r\n      $$: {\r\n        title: function(v) {\r\n          state.title = v\r\n        },\r\n        slug: function(v) {\r\n          state.customSlug = str.slugify(v)\r\n        },\r\n        description: function(v) {\r\n          state.description = v\r\n        },\r\n        num: function(v) {\r\n          console.log([v])\r\n          state.num = v\r\n        }\r\n      },\r\n      title: data.title,\n      customSlug: data.slug,\r\n      description: data.description,\r\n      num: null\r\n    }\n    Object.defineProperty(state, 'slug', {\r\n      get: () => state.customSlug || str.slugify(state.title)\r\n    })\n    return state\r\n  })\n  return {\n    view: function(vnode) {\n      let item2 = stateModel(vnode.attrs.data);\r\n      let item = model(vnode.attrs.data);\r\n      return m('div', [\r\n        m(Topbar),\r\n        m(Content, {\r\n            title: \"Edit course\"\r\n          }, [\r\n          m('#main-panel.col-md-9', [\r\n            m('input[type=\"text\"].form-control.form-control-lg[id=\"title\"][name=\"title\"][aria-describedby=\"couseTitle\"][placeholder=\"Title\"]', {\r\n              value: item.title(),\r\n              oninput: m.withAttr(\"value\", item.title)\r\n            }),\r\n            m('small#couseTitle.form-text.text-muted', \"We'll never share your email with anyone else.\"),\r\n            m('input[type=\"text\"].form-control.form-control-sm', {\r\n              value: item.slug(),\r\n              onchange: m.withAttr(\"value\", item.slug)\r\n            }),\r\n            m('.form-section-meta', [\r\n              m('.form-group', [\r\n                m('label[for=\"description\"]', 'Description'),\r\n                m('textarea#description.form-control[name=\"description\"]', {\r\n                  value: item.description(),\n                  oninput: m.withAttr(\"value\", item.description)\n                }),\n              ]),\n              m('.row',[\r\n                m('.col-md-4',\r\n                  m('select.form-control', item2.$.levels.map((items)=>m('option', items)))\r\n                ),\r\n                m('.col-md-4',\r\n                  m('select.form-control', item2.$.colors.map((items)=>m('option', items)))\r\n                ),\r\n                m('.col-md-4',\n                  m('input[type=\"text\"].form-control', {\n                    value: item.num(),\n                    oninput: m.withAttr(\"value\", item.num)\n                  })\n                )\r\n              ])\r\n            ]),\r\n            m('a.btn.btn-primary.btn-lg[href=\"/courses\"]', {\r\n              oncreate: m.route.link\r\n            }, 'Click here!!!!')\r\n          ]),\r\n          m('#side-panel.col-md-3', [\r\n            m( '.buttons', [\r\n              m('.btn.btn-primary.btn-alt.btn-lg',  \"Save\"),\r\n              m('.btn.btn-primary.btn-lg',  \"Unpublish\")\r\n            ]),\r\n            m( CourseItem, vnode.attrs.data )\r\n          ])\r\n        ])\r\n      ])\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view-models/course.vmodel.js","\"use strict\"\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), data = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) counters[key] = 0\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mithril/querystring/parse.js\n// module id = 46\n// module chunks = 0","\"use strict\"\n\n/*\nKnown limitations:\n\n- `option.selected` can't be set/read when the option doesn't have a `select` parent\n- `element.attributes` is just a map of attribute names => Attr objects stubs\n- ...\n\n*/\n\n/*\noptions:\n- spy:(f: Function) => Function\n*/\n\nmodule.exports = function(options) {\n\toptions = options || {}\n\tvar spy = options.spy || function(f){return f}\n\tvar spymap = []\n\tfunction registerSpies(element, spies) {\n\t\tif(options.spy) {\n\t\t\tvar i = spymap.indexOf(element)\n\t\t\tif (i === -1) {\n\t\t\t\tspymap.push(element, spies)\n\t\t\t} else {\n\t\t\t\tvar existing = spymap[i + 1]\n\t\t\t\tfor (var k in spies) existing[k] = spies[k]\n\t\t\t}\n\t\t}\n\t}\n\tfunction getSpies(element) {\n\t\tif (element == null || typeof element !== \"object\") throw new Error(\"Element expected\")\n\t\tif(options.spy) return spymap[spymap.indexOf(element) + 1]\n\t}\n\n\tfunction isModernEvent(type) {\n\t\treturn type === \"transitionstart\" || type === \"transitionend\" || type === \"animationstart\" || type === \"animationend\"\n\t}\n\tfunction appendChild(child) {\n\t\tvar ancestor = this\n\t\twhile (ancestor !== child && ancestor !== null) ancestor = ancestor.parentNode\n\t\tif (ancestor === child) throw new Error(\"Node cannot be inserted at the specified point in the hierarchy\")\n\n\t\tif (child.nodeType == null) throw new Error(\"Argument is not a DOM element\")\n\n\t\tvar index = this.childNodes.indexOf(child)\n\t\tif (index > -1) this.childNodes.splice(index, 1)\n\t\tif (child.nodeType === 11) {\n\t\t\twhile (child.firstChild != null) this.appendChild(child.firstChild)\n\t\t\tchild.childNodes = []\n\t\t}\n\t\telse {\n\t\t\tthis.childNodes.push(child)\n\t\t\tif (child.parentNode != null && child.parentNode !== this) child.parentNode.removeChild(child)\n\t\t\tchild.parentNode = this\n\t\t}\n\t}\n\tfunction removeChild(child) {\n\t\tvar index = this.childNodes.indexOf(child)\n\t\tif (index > -1) {\n\t\t\tthis.childNodes.splice(index, 1)\n\t\t\tchild.parentNode = null\n\t\t}\n\t\telse throw new TypeError(\"Failed to execute 'removeChild'\")\n\t}\n\tfunction insertBefore(child, reference) {\n\t\tvar ancestor = this\n\t\twhile (ancestor !== child && ancestor !== null) ancestor = ancestor.parentNode\n\t\tif (ancestor === child) throw new Error(\"Node cannot be inserted at the specified point in the hierarchy\")\n\n\t\tif (child.nodeType == null) throw new Error(\"Argument is not a DOM element\")\n\n\t\tvar refIndex = this.childNodes.indexOf(reference)\n\t\tvar index = this.childNodes.indexOf(child)\n\t\tif (reference !== null && refIndex < 0) throw new TypeError(\"Invalid argument\")\n\t\tif (index > -1) this.childNodes.splice(index, 1)\n\t\tif (reference === null) this.appendChild(child)\n\t\telse {\n\t\t\tif (child.nodeType === 11) {\n\t\t\t\tthis.childNodes.splice.apply(this.childNodes, [refIndex, 0].concat(child.childNodes))\n\t\t\t\twhile (child.firstChild) {\n\t\t\t\t\tvar subchild = child.firstChild\n\t\t\t\t\tchild.removeChild(subchild)\n\t\t\t\t\tsubchild.parentNode = this\n\t\t\t\t}\n\t\t\t\tchild.childNodes = []\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.childNodes.splice(refIndex, 0, child)\n\t\t\t\tif (child.parentNode != null && child.parentNode !== this) child.parentNode.removeChild(child)\n\t\t\t\tchild.parentNode = this\n\t\t\t}\n\t\t}\n\t}\n\tfunction getAttribute(name) {\n\t\tif (this.attributes[name] == null) return null\n\t\treturn this.attributes[name].value\n\t}\n\tfunction setAttribute(name, value) {\n\t\t/*eslint-disable no-implicit-coercion*/\n\t\t// this is the correct kind of conversion, passing a Symbol throws in browsers too.\n\t\tvar nodeValue = \"\" + value\n\t\t/*eslint-enable no-implicit-coercion*/\n\n\t\tthis.attributes[name] = {\n\t\t\tnamespaceURI: null,\n\t\t\tget value() {return nodeValue},\n\t\t\tset value(value) {\n\t\t\t\t/*eslint-disable no-implicit-coercion*/\n\t\t\t\tnodeValue = \"\" + value\n\t\t\t\t/*eslint-enable no-implicit-coercion*/\n\t\t\t},\n\t\t\tget nodeValue() {return nodeValue},\n\t\t\tset nodeValue(value) {\n\t\t\t\tthis.value = value\n\t\t\t}\n\t\t}\n\t}\n\tfunction setAttributeNS(ns, name, value) {\n\t\tthis.setAttribute(name, value)\n\t\tthis.attributes[name].namespaceURI = ns\n\t}\n\tfunction removeAttribute(name) {\n\t\tdelete this.attributes[name]\n\t}\n\tfunction hasAttribute(name) {\n\t\treturn name in this.attributes\n\t}\n\tvar declListTokenizer = /;|\"(?:\\\\.|[^\"\\n])*\"|'(?:\\\\.|[^'\\n])*'/g\n\t/**\n\t * This will split a semicolon-separated CSS declaration list into an array of\n\t * individual declarations, ignoring semicolons in strings.\n\t *\n\t * Comments are also stripped.\n\t *\n\t * @param {string} declList\n\t * @return {string[]}\n\t */\n\tfunction splitDeclList(declList) {\n\t\tvar indices = [], res = [], match\n\n\t\t// remove comments, preserving comments in strings.\n\t\tdeclList = declList.replace(\n\t\t\t/(\"(?:\\\\.|[^\"\\n])*\"|'(?:\\\\.|[^'\\n])*')|\\/\\*[\\s\\S]*?\\*\\//g,\n\t\t\tfunction(m, str){\n\t\t\t\treturn str || \"\"\n\t\t\t}\n\t\t)\n\t\t/*eslint-disable no-cond-assign*/\n\t\twhile (match = declListTokenizer.exec(declList)) {\n\t\t\tif (match[0] === \";\") indices.push(match.index)\n\t\t}\n\t\t/*eslint-enable no-cond-assign*/\n\t\tfor (var i = indices.length; i--;){\n\t\t\tres.unshift(declList.slice(indices[i] + 1))\n\t\t\tdeclList = declList.slice(0, indices[i])\n\t\t}\n\t\tres.unshift(declList)\n\t\treturn res\n\t}\n\n\tvar activeElement\n\tvar $window = {\n\t\tdocument: {\n\t\t\tcreateElement: function(tag) {\n\t\t\t\tvar cssText = \"\"\n\t\t\t\tvar style = {}\n\t\t\t\tObject.defineProperty(style, \"cssText\", {\n\t\t\t\t\tget: function() {return cssText},\n\t\t\t\t\tset: function (value) {\n\t\t\t\t\t\tvar buf = []\n\t\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\t\tfor (var key in style) style[key] = \"\"\n\t\t\t\t\t\t\tvar rules = splitDeclList(value)\n\t\t\t\t\t\t\tfor (var i = 0; i < rules.length; i++) {\n\t\t\t\t\t\t\t\tvar rule = rules[i]\n\t\t\t\t\t\t\t\tvar colonIndex = rule.indexOf(\":\")\n\t\t\t\t\t\t\t\tif (colonIndex > -1) {\n\t\t\t\t\t\t\t\t\tvar rawKey = rule.slice(0, colonIndex).trim()\n\t\t\t\t\t\t\t\t\tvar key = rawKey.replace(/-\\D/g, function(match) {return match[1].toUpperCase()})\n\t\t\t\t\t\t\t\t\tvar value = rule.slice(colonIndex + 1).trim()\n\t\t\t\t\t\t\t\t\tif (key !== \"cssText\") {\n\t\t\t\t\t\t\t\t\t\tstyle[key] = value\n\t\t\t\t\t\t\t\t\t\tbuf.push(rawKey + \": \" + value + \";\")\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcssText = buf.join(\" \")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tvar events = {}\n\t\t\t\tvar element = {\n\t\t\t\t\tnodeType: 1,\n\t\t\t\t\tnodeName: tag.toUpperCase(),\n\t\t\t\t\tnamespaceURI: \"http://www.w3.org/1999/xhtml\",\n\t\t\t\t\tappendChild: appendChild,\n\t\t\t\t\tremoveChild: removeChild,\n\t\t\t\t\tinsertBefore: insertBefore,\n\t\t\t\t\thasAttribute: hasAttribute,\n\t\t\t\t\tgetAttribute: getAttribute,\n\t\t\t\t\tsetAttribute: setAttribute,\n\t\t\t\t\tsetAttributeNS: setAttributeNS,\n\t\t\t\t\tremoveAttribute: removeAttribute,\n\t\t\t\t\tparentNode: null,\n\t\t\t\t\tchildNodes: [],\n\t\t\t\t\tattributes: {},\n\t\t\t\t\tget firstChild() {\n\t\t\t\t\t\treturn this.childNodes[0] || null\n\t\t\t\t\t},\n\t\t\t\t\tget nextSibling() {\n\t\t\t\t\t\tif (this.parentNode == null) return null\n\t\t\t\t\t\tvar index = this.parentNode.childNodes.indexOf(this)\n\t\t\t\t\t\tif (index < 0) throw new TypeError(\"Parent's childNodes is out of sync\")\n\t\t\t\t\t\treturn this.parentNode.childNodes[index + 1] || null\n\t\t\t\t\t},\n\t\t\t\t\tset textContent(value) {\n\t\t\t\t\t\tthis.childNodes = []\n\t\t\t\t\t\tif (value !== \"\") this.appendChild($window.document.createTextNode(value))\n\t\t\t\t\t},\n\t\t\t\t\tset innerHTML(value) {\n\t\t\t\t\t\twhile (this.firstChild) this.removeChild(this.firstChild)\n\n\t\t\t\t\t\tvar stack = [this], depth = 0, voidElements = [\"area\", \"base\", \"br\", \"col\", \"command\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"]\n\t\t\t\t\t\tvalue.replace(/<([a-z0-9\\-]+?)((?:\\s+?[^=]+?=(?:\"[^\"]*?\"|'[^']*?'|[^\\s>]*))*?)(\\s*\\/)?>|<\\/([a-z0-9\\-]+?)>|([^<]+)/g, function(match, startTag, attrs, selfClosed, endTag, text) {\n\t\t\t\t\t\t\tif (startTag) {\n\t\t\t\t\t\t\t\tvar element = $window.document.createElement(startTag)\n\t\t\t\t\t\t\t\tattrs.replace(/\\s+?([^=]+?)=(?:\"([^\"]*?)\"|'([^']*?)'|([^\\s>]*))/g, function(match, key, doubleQuoted, singleQuoted, unquoted) {\n\t\t\t\t\t\t\t\t\tvar keyParts = key.split(\":\")\n\t\t\t\t\t\t\t\t\tvar name = keyParts.pop()\n\t\t\t\t\t\t\t\t\tvar ns = keyParts[0]\n\t\t\t\t\t\t\t\t\tvar value = doubleQuoted || singleQuoted || unquoted || \"\"\n\t\t\t\t\t\t\t\t\tif (ns != null) element.setAttributeNS(ns, name, value)\n\t\t\t\t\t\t\t\t\telse element.setAttribute(name, value)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tstack[depth].appendChild(element)\n\t\t\t\t\t\t\t\tif (!selfClosed && voidElements.indexOf(startTag.toLowerCase()) < 0) stack[++depth] = element\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (endTag) {\n\t\t\t\t\t\t\t\tdepth--\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (text) {\n\t\t\t\t\t\t\t\tstack[depth].appendChild($window.document.createTextNode(text)) // FIXME handle html entities\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tget style() {\n\t\t\t\t\t\treturn style\n\t\t\t\t\t},\n\t\t\t\t\tset style(_){\n\t\t\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style#Setting_style\n\t\t\t\t\t\tthrow new Error(\"setting element.style is not portable\")\n\t\t\t\t\t},\n\t\t\t\t\tget className() {\n\t\t\t\t\t\treturn this.attributes[\"class\"] ? this.attributes[\"class\"].value : \"\"\n\t\t\t\t\t},\n\t\t\t\t\tset className(value) {\n\t\t\t\t\t\tif (this.namespaceURI === \"http://www.w3.org/2000/svg\") throw new Error(\"Cannot set property className of SVGElement\")\n\t\t\t\t\t\telse this.setAttribute(\"class\", value)\n\t\t\t\t\t},\n\t\t\t\t\tfocus: function() {activeElement = this},\n\t\t\t\t\taddEventListener: function(type, callback) {\n\t\t\t\t\t\tif (events[type] == null) events[type] = [callback]\n\t\t\t\t\t\telse events[type].push(callback)\n\t\t\t\t\t},\n\t\t\t\t\tremoveEventListener: function(type, callback) {\n\t\t\t\t\t\tif (events[type] != null) {\n\t\t\t\t\t\t\tvar index = events[type].indexOf(callback)\n\t\t\t\t\t\t\tif (index > -1) events[type].splice(index, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdispatchEvent: function(e) {\n\t\t\t\t\t\tif (this.nodeName === \"INPUT\" && this.attributes[\"type\"] != null && this.attributes[\"type\"].value === \"checkbox\" && e.type === \"click\") {\n\t\t\t\t\t\t\tthis.checked = !this.checked\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\te.target = this\n\t\t\t\t\t\tif (events[e.type] != null) {\n\t\t\t\t\t\t\tfor (var i = 0; i < events[e.type].length; i++) {\n\t\t\t\t\t\t\t\tevents[e.type][i].call(this, e)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault = function() {\n\t\t\t\t\t\t\t// TODO: should this do something?\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof this[\"on\" + e.type] === \"function\" && !isModernEvent(e.type)) this[\"on\" + e.type](e)\n\t\t\t\t\t},\n\t\t\t\t\tonclick: null,\n\t\t\t\t}\n\n\t\t\t\tif (element.nodeName === \"A\") {\n\t\t\t\t\tObject.defineProperty(element, \"href\", {\n\t\t\t\t\t\tget: function() {return this.attributes[\"href\"] === undefined ? \"\" : \"[FIXME implement]\"},\n\t\t\t\t\t\tset: function(value) {this.setAttribute(\"href\", value)},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tif (element.nodeName === \"INPUT\") {\n\t\t\t\t\tvar checked\n\t\t\t\t\tObject.defineProperty(element, \"checked\", {\n\t\t\t\t\t\tget: function() {return checked === undefined ? this.attributes[\"checked\"] !== undefined : checked},\n\t\t\t\t\t\tset: function(value) {checked = Boolean(value)},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\n\t\t\t\t\tvar value = \"\"\n\t\t\t\t\tvar valueSetter = spy(function(v) {\n\t\t\t\t\t\t/*eslint-disable no-implicit-coercion*/\n\t\t\t\t\t\tvalue = v === null ? \"\" : \"\" + v\n\t\t\t\t\t\t/*eslint-enable no-implicit-coercion*/\n\t\t\t\t\t})\n\t\t\t\t\tObject.defineProperty(element, \"value\", {\n\t\t\t\t\t\tget: function() {\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: valueSetter,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\n\t\t\t\t\t// we currently emulate the non-ie behavior, but emulating ie may be more useful (throw when an invalid type is set)\n\t\t\t\t\tvar typeSetter = spy(function(v) {\n\t\t\t\t\t\tthis.setAttribute(\"type\", v)\n\t\t\t\t\t})\n\t\t\t\t\tObject.defineProperty(element, \"type\", {\n\t\t\t\t\t\tget: function() {\n\t\t\t\t\t\t\tif (!this.hasAttribute(\"type\")) return \"text\"\n\t\t\t\t\t\t\tvar type = this.getAttribute(\"type\")\n\t\t\t\t\t\t\treturn (/^(?:radio|button|checkbox|color|date|datetime|datetime-local|email|file|hidden|month|number|password|range|research|search|submit|tel|text|url|week|image)$/)\n\t\t\t\t\t\t\t.test(type)\n\t\t\t\t\t\t\t? type\n\t\t\t\t\t\t\t: \"text\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: typeSetter,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\t\t\t\t\tregisterSpies(element, {\n\t\t\t\t\t\tvalueSetter: valueSetter,\n\t\t\t\t\t\ttypeSetter: typeSetter\n\t\t\t\t\t})\n\t\t\t\t}\n\n\n\t\t\t\tif (element.nodeName === \"TEXTAREA\") {\n\t\t\t\t\tvar wasNeverSet = true\n\t\t\t\t\tvar value = \"\"\n\t\t\t\t\tvar valueSetter = spy(function(v) {\n\t\t\t\t\t\twasNeverSet = false\n\t\t\t\t\t\t/*eslint-disable no-implicit-coercion*/\n\t\t\t\t\t\tvalue = v === null ? \"\" : \"\" + v\n\t\t\t\t\t\t/*eslint-enable no-implicit-coercion*/\n\t\t\t\t\t})\n\t\t\t\t\tObject.defineProperty(element, \"value\", {\n\t\t\t\t\t\tget: function() {\n\t\t\t\t\t\t\treturn wasNeverSet && this.firstChild ? this.firstChild.nodeValue : value\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: valueSetter,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\t\t\t\t\tregisterSpies(element, {\n\t\t\t\t\t\tvalueSetter: valueSetter\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\t/* eslint-disable radix */\n\n\t\t\t\tif (element.nodeName === \"CANVAS\") {\n\t\t\t\t\tObject.defineProperty(element, \"width\", {\n\t\t\t\t\t\tget: function() {return this.attributes[\"width\"] ? Math.floor(parseInt(this.attributes[\"width\"].value) || 0) : 300},\n\t\t\t\t\t\tset: function(value) {this.setAttribute(\"width\", Math.floor(Number(value) || 0).toString())},\n\t\t\t\t\t})\n\t\t\t\t\tObject.defineProperty(element, \"height\", {\n\t\t\t\t\t\tget: function() {return this.attributes[\"height\"] ? Math.floor(parseInt(this.attributes[\"height\"].value) || 0) : 300},\n\t\t\t\t\t\tset: function(value) {this.setAttribute(\"height\", Math.floor(Number(value) || 0).toString())},\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\t/* eslint-enable radix */\n\n\t\t\t\tfunction getOptions(element) {\n\t\t\t\t\tvar options = []\n\t\t\t\t\tfor (var i = 0; i < element.childNodes.length; i++) {\n\t\t\t\t\t\tif (element.childNodes[i].nodeName === \"OPTION\") options.push(element.childNodes[i])\n\t\t\t\t\t\telse if (element.childNodes[i].nodeName === \"OPTGROUP\") options = options.concat(getOptions(element.childNodes[i]))\n\t\t\t\t\t}\n\t\t\t\t\treturn options\n\t\t\t\t}\n\t\t\t\tfunction getOptionValue(element) {\n\t\t\t\t\treturn element.attributes[\"value\"] != null ?\n\t\t\t\t\t\telement.attributes[\"value\"].value :\n\t\t\t\t\t\telement.firstChild != null ? element.firstChild.nodeValue : \"\"\n\t\t\t\t}\n\t\t\t\tif (element.nodeName === \"SELECT\") {\n\t\t\t\t\t// var selectedValue\n\t\t\t\t\tvar selectedIndex = 0\n\t\t\t\t\tObject.defineProperty(element, \"selectedIndex\", {\n\t\t\t\t\t\tget: function() {return getOptions(this).length > 0 ? selectedIndex : -1},\n\t\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\t\tvar options = getOptions(this)\n\t\t\t\t\t\t\tif (value >= 0 && value < options.length) {\n\t\t\t\t\t\t\t\t// selectedValue = getOptionValue(options[selectedIndex])\n\t\t\t\t\t\t\t\tselectedIndex = value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// selectedValue = \"\"\n\t\t\t\t\t\t\t\tselectedIndex = -1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\t\t\t\t\tvar valueSetter = spy(function(value) {\n\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\tselectedIndex = -1\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar options = getOptions(this)\n\t\t\t\t\t\t\t/*eslint-disable no-implicit-coercion*/\n\t\t\t\t\t\t\tvar stringValue = \"\" + value\n\t\t\t\t\t\t\t/*eslint-enable no-implicit-coercion*/\n\t\t\t\t\t\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\t\t\t\t\t\tif (getOptionValue(options[i]) === stringValue) {\n\t\t\t\t\t\t\t\t\t// selectedValue = stringValue\n\t\t\t\t\t\t\t\t\tselectedIndex = i\n\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// selectedValue = stringValue\n\t\t\t\t\t\t\tselectedIndex = -1\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tObject.defineProperty(element, \"value\", {\n\t\t\t\t\t\tget: function() {\n\t\t\t\t\t\t\tif (this.selectedIndex > -1) return getOptionValue(getOptions(this)[this.selectedIndex])\n\t\t\t\t\t\t\treturn \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: valueSetter,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\t\t\t\t\tregisterSpies(element, {\n\t\t\t\t\t\tvalueSetter: valueSetter\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (element.nodeName === \"OPTION\") {\n\t\t\t\t\tvar valueSetter = spy(function(value) {\n\t\t\t\t\t\t/*eslint-disable no-implicit-coercion*/\n\t\t\t\t\t\tthis.setAttribute(\"value\", value === null ? \"\" : \"\" + value)\n\t\t\t\t\t\t/*eslint-enable no-implicit-coercion*/\n\t\t\t\t\t})\n\t\t\t\t\tObject.defineProperty(element, \"value\", {\n\t\t\t\t\t\tget: function() {return getOptionValue(this)},\n\t\t\t\t\t\tset: valueSetter,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\t\t\t\t\tregisterSpies(element, {\n\t\t\t\t\t\tvalueSetter: valueSetter\n\t\t\t\t\t})\n\n\t\t\t\t\tObject.defineProperty(element, \"selected\", {\n\t\t\t\t\t\t// TODO? handle `selected` without a parent (works in browsers)\n\t\t\t\t\t\tget: function() {\n\t\t\t\t\t\t\tvar options = getOptions(this.parentNode)\n\t\t\t\t\t\t\tvar index = options.indexOf(this)\n\t\t\t\t\t\t\treturn index === this.parentNode.selectedIndex\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\tvar options = getOptions(this.parentNode)\n\t\t\t\t\t\t\t\tvar index = options.indexOf(this)\n\t\t\t\t\t\t\t\tif (index > -1) this.parentNode.selectedIndex = index\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse this.parentNode.selectedIndex = 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\treturn element\n\t\t\t},\n\t\t\tcreateElementNS: function(ns, tag, is) {\n\t\t\t\tvar element = this.createElement(tag, is)\n\t\t\t\telement.nodeName = tag\n\t\t\t\telement.namespaceURI = ns\n\t\t\t\treturn element\n\t\t\t},\n\t\t\tcreateTextNode: function(text) {\n\t\t\t\t/*eslint-disable no-implicit-coercion*/\n\t\t\t\tvar nodeValue = \"\" + text\n\t\t\t\t/*eslint-enable no-implicit-coercion*/\n\t\t\t\treturn {\n\t\t\t\t\tnodeType: 3,\n\t\t\t\t\tnodeName: \"#text\",\n\t\t\t\t\tparentNode: null,\n\t\t\t\t\tget nodeValue() {return nodeValue},\n\t\t\t\t\tset nodeValue(value) {\n\t\t\t\t\t\t/*eslint-disable no-implicit-coercion*/\n\t\t\t\t\t\tnodeValue = \"\" + value\n\t\t\t\t\t\t/*eslint-enable no-implicit-coercion*/\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreateDocumentFragment: function() {\n\t\t\t\treturn {\n\t\t\t\t\tnodeType: 11,\n\t\t\t\t\tnodeName: \"#document-fragment\",\n\t\t\t\t\tappendChild: appendChild,\n\t\t\t\t\tinsertBefore: insertBefore,\n\t\t\t\t\tremoveChild: removeChild,\n\t\t\t\t\tparentNode: null,\n\t\t\t\t\tchildNodes: [],\n\t\t\t\t\tget firstChild() {\n\t\t\t\t\t\treturn this.childNodes[0] || null\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreateEvent: function() {\n\t\t\t\treturn {\n\t\t\t\t\tinitEvent: function(type) {this.type = type},\n\t\t\t\t}\n\t\t\t},\n\t\t\tget activeElement() {return activeElement},\n\t\t},\n\t}\n\t$window.document.documentElement = $window.document.createElement(\"html\")\n\t$window.document.documentElement.appendChild($window.document.createElement(\"head\"))\n\t$window.document.body = $window.document.createElement(\"body\")\n\t$window.document.documentElement.appendChild($window.document.body)\n\tactiveElement = $window.document.body\n\n\tif (options.spy) $window.__getSpies = getSpies\n\n\treturn $window\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mithril/test-utils/domMock.js\n// module id = 47\n// module chunks = 0","\"use strict\"\n\nvar parseURL = require(\"../test-utils/parseURL\")\nvar callAsync = require(\"../test-utils/callAsync\")\n\nfunction debouncedAsync(f) {\n\tvar ref\n\treturn function() {\n\t\tif (ref != null) return\n\t\tref = callAsync(function(){\n\t\t\tref = null\n\t\t\tf()\n\t\t})\n\t}\n}\n\nmodule.exports = function(options) {\n\tif (options == null) options = {}\n\n\tvar $window = options.window || {}\n\tvar protocol = options.protocol || \"http:\"\n\tvar hostname = options.hostname || \"localhost\"\n\tvar port = \"\"\n\tvar pathname = \"/\"\n\tvar search = \"\"\n\tvar hash = \"\"\n\n\tvar past = [{url: getURL(), isNew: true, state: null, title: null}], future = []\n\n\tfunction getURL() {\n\t\tif (protocol === \"file:\") return protocol + \"//\" + pathname + search + hash\n\t\treturn protocol + \"//\" + hostname + prefix(\":\", port) + pathname + search + hash\n\t}\n\tfunction setURL(value) {\n\t\tvar data = parseURL(value, {protocol: protocol, hostname: hostname, port: port, pathname: pathname})\n\t\tvar isNew = false\n\t\tif (data.protocol != null && data.protocol !== protocol) protocol = data.protocol, isNew = true\n\t\tif (data.hostname != null && data.hostname !== hostname) hostname = data.hostname, isNew = true\n\t\tif (data.port != null && data.port !== port) port = data.port, isNew = true\n\t\tif (data.pathname != null && data.pathname !== pathname) pathname = data.pathname, isNew = true\n\t\tif (data.search != null && data.search !== search) search = data.search, isNew = true\n\t\tif (data.hash != null && data.hash !== hash) {\n\t\t\thash = data.hash\n\t\t\tif (!isNew) {\n\t\t\t\thashchange()\n\t\t\t}\n\t\t}\n\t\treturn isNew\n\t}\n\n\tfunction prefix(prefix, value) {\n\t\tif (value === \"\") return \"\"\n\t\treturn (value.charAt(0) !== prefix ? prefix : \"\") + value\n\t}\n\tfunction _hashchange() {\n\t\tif (typeof $window.onhashchange === \"function\") $window.onhashchange({type: \"hashchange\"})\n\t}\n\tvar hashchange = debouncedAsync(_hashchange)\n\tfunction popstate() {\n\t\tif (typeof $window.onpopstate === \"function\") $window.onpopstate({type: \"popstate\", state: $window.history.state})\n\t}\n\tfunction unload() {\n\t\tif (typeof $window.onunload === \"function\") $window.onunload({type: \"unload\"})\n\t}\n\n\t$window.location = {\n\t\tget protocol() {\n\t\t\treturn protocol\n\t\t},\n\t\tget hostname() {\n\t\t\treturn hostname\n\t\t},\n\t\tget port() {\n\t\t\treturn port\n\t\t},\n\t\tget pathname() {\n\t\t\treturn pathname\n\t\t},\n\t\tget search() {\n\t\t\treturn search\n\t\t},\n\t\tget hash() {\n\t\t\treturn hash\n\t\t},\n\t\tget origin() {\n\t\t\tif (protocol === \"file:\") return \"null\"\n\t\t\treturn protocol + \"//\" + hostname + prefix(\":\", port)\n\t\t},\n\t\tget host() {\n\t\t\tif (protocol === \"file:\") return \"\"\n\t\t\treturn hostname + prefix(\":\", port)\n\t\t},\n\t\tget href() {\n\t\t\treturn getURL()\n\t\t},\n\n\t\tset protocol(value) {\n\t\t\tthrow new Error(\"Protocol is read-only\")\n\t\t},\n\t\tset hostname(value) {\n\t\t\tunload()\n\t\t\tpast.push({url: getURL(), isNew: true})\n\t\t\tfuture = []\n\t\t\thostname = value\n\t\t},\n\t\tset port(value) {\n\t\t\tif (protocol === \"file:\") throw new Error(\"Port is read-only under `file://` protocol\")\n\t\t\tunload()\n\t\t\tpast.push({url: getURL(), isNew: true})\n\t\t\tfuture = []\n\t\t\tport = value\n\t\t},\n\t\tset pathname(value) {\n\t\t\tif (protocol === \"file:\") throw new Error(\"Pathname is read-only under `file://` protocol\")\n\t\t\tunload()\n\t\t\tpast.push({url: getURL(), isNew: true})\n\t\t\tfuture = []\n\t\t\tpathname = prefix(\"/\", value)\n\t\t},\n\t\tset search(value) {\n\t\t\tunload()\n\t\t\tpast.push({url: getURL(), isNew: true})\n\t\t\tfuture = []\n\t\t\tsearch = prefix(\"?\", value)\n\t\t},\n\t\tset hash(value) {\n\t\t\tvar oldHash = hash\n\t\t\tpast.push({url: getURL(), isNew: false})\n\t\t\tfuture = []\n\t\t\thash = prefix(\"#\", value)\n\t\t\tif (oldHash != hash) hashchange()\n\t\t},\n\n\t\tset origin(value) {\n\t\t\t//origin is writable but ignored\n\t\t},\n\t\tset host(value) {\n\t\t\t//host is writable but ignored in Chrome\n\t\t},\n\t\tset href(value) {\n\t\t\tvar url = getURL()\n\t\t\tvar isNew = setURL(value)\n\t\t\tif (isNew) {\n\t\t\t\tsetURL(url)\n\t\t\t\tunload()\n\t\t\t\tsetURL(value)\n\t\t\t}\n\t\t\tpast.push({url: url, isNew: isNew})\n\t\t\tfuture = []\n\t\t},\n\t}\n\t$window.history = {\n\t\tpushState: function(state, title, url) {\n\t\t\tpast.push({url: getURL(), isNew: false, state: state, title: title})\n\t\t\tfuture = []\n\t\t\tsetURL(url)\n\t\t},\n\t\treplaceState: function(state, title, url) {\n\t\t\tvar entry = past[past.length - 1]\n\t\t\tentry.state = state\n\t\t\tentry.title = title\n\t\t\tsetURL(url)\n\t\t},\n\t\tback: function() {\n\t\t\tif (past.length > 1) {\n\t\t\t\tvar entry = past.pop()\n\t\t\t\tif (entry.isNew) unload()\n\t\t\t\tfuture.push({url: getURL(), isNew: false, state: entry.state, title: entry.title})\n\t\t\t\tsetURL(entry.url)\n\t\t\t\tif (!entry.isNew) popstate()\n\t\t\t}\n\t\t},\n\t\tforward: function() {\n\t\t\tvar entry = future.pop()\n\t\t\tif (entry != null) {\n\t\t\t\tif (entry.isNew) unload()\n\t\t\t\tpast.push({url: getURL(), isNew: false, state: entry.state, title: entry.title})\n\t\t\t\tsetURL(entry.url)\n\t\t\t\tif (!entry.isNew) popstate()\n\t\t\t}\n\t\t},\n\t\tget state() {\n\t\t\treturn past.length === 0 ? null : past[past.length - 1].state\n\t\t},\n\t}\n\t$window.onpopstate = null,\n\t$window.onhashchange = null,\n\t$window.onunload = null\n\n\treturn $window\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mithril/test-utils/pushStateMock.js\n// module id = 48\n// module chunks = 0","\"use strict\"\n\nvar callAsync = require(\"../test-utils/callAsync\")\nvar parseURL = require(\"../test-utils/parseURL\")\nvar parseQueryString = require(\"../querystring/parse\")\n\nmodule.exports = function() {\n\tvar routes = {}\n\t// var callback = \"callback\"\n\tvar serverErrorHandler = function(url) {\n\t\treturn {status: 500, responseText: \"server error, most likely the URL was not defined \" + url}\n\t}\n\n\tvar $window = {\n\t\tXMLHttpRequest: function XMLHttpRequest() {\n\t\t\tvar args = {}\n\t\t\tvar headers = {}\n\t\t\tvar aborted = false\n\t\t\tthis.setRequestHeader = function(header, value) {\n\t\t\t\theaders[header] = value\n\t\t\t}\n\t\t\tthis.getRequestHeader = function(header) {\n\t\t\t\treturn headers[header]\n\t\t\t}\n\t\t\tthis.open = function(method, url, async, user, password) {\n\t\t\t\tvar urlData = parseURL(url, {protocol: \"http:\", hostname: \"localhost\", port: \"\", pathname: \"/\"})\n\t\t\t\targs.method = method\n\t\t\t\targs.pathname = urlData.pathname\n\t\t\t\targs.search = urlData.search\n\t\t\t\targs.async = async != null ? async : true\n\t\t\t\targs.user = user\n\t\t\t\targs.password = password\n\t\t\t}\n\t\t\tthis.send = function(body) {\n\t\t\t\tvar self = this\n\t\t\t\tif(!aborted) {\n\t\t\t\t\tvar handler = routes[args.method + \" \" + args.pathname] || serverErrorHandler.bind(null, args.pathname)\n\t\t\t\t\tvar data = handler({url: args.pathname, query: args.search || {}, body: body || null})\n\t\t\t\t\tself.status = data.status\n\t\t\t\t\tself.responseText = data.responseText\n\t\t\t\t} else {\n\t\t\t\t\tself.status = 0\n\t\t\t\t}\n\t\t\t\tself.readyState = 4\n\t\t\t\tif (args.async === true) {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (typeof self.onreadystatechange === \"function\") self.onreadystatechange()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.abort = function() {\n\t\t\t\taborted = true\n\t\t\t}\n\t\t},\n\t\tdocument: {\n\t\t\tcreateElement: function(tag) {\n\t\t\t\treturn {nodeName: tag.toUpperCase(), parentNode: null}\n\t\t\t},\n\t\t\tdocumentElement: {\n\t\t\t\tappendChild: function(element) {\n\t\t\t\t\telement.parentNode = this\n\t\t\t\t\tif (element.nodeName === \"SCRIPT\") {\n\t\t\t\t\t\tvar urlData = parseURL(element.src, {protocol: \"http:\", hostname: \"localhost\", port: \"\", pathname: \"/\"})\n\t\t\t\t\t\tvar handler = routes[\"GET \" + urlData.pathname] || serverErrorHandler.bind(null, element.src)\n\t\t\t\t\t\tvar data = handler({url: urlData.pathname, query: urlData.search, body: null})\n\t\t\t\t\t\tparseQueryString(urlData.search)\n\t\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\t\tif (data.status === 200) {\n\t\t\t\t\t\t\t\tnew Function(\"$window\", \"with ($window) return \" + data.responseText).call($window, $window)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (typeof element.onerror === \"function\") {\n\t\t\t\t\t\t\t\telement.onerror({type: \"error\"})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tremoveChild: function(element) {\n\t\t\t\t\telement.parentNode = null\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t$defineRoutes: function(rules) {\n\t\t\troutes = rules\n\t\t},\n\t\t$defineJSONPCallbackKey: function(/* key */) {\n\t\t\t// callback = key\n\t\t},\n\t}\n\treturn $window\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mithril/test-utils/xhrMock.js\n// module id = 49\n// module chunks = 0"],"sourceRoot":""}